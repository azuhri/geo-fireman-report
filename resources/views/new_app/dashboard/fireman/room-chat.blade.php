@extends('new_app.dashboard.template.master')
@section('dashboard_title')
    Room Chat
@endsection
@section('dashboard_css')
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
        integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
@endsection
@section('back')
    <div class="px-4 bg-slate-100 py-4 flex justify-center fixed top-0 z-[9999] w-full border-2">
        <button onclick="history.back()" class="absolute left-5 rounded-full top-6">
            <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none"
                stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1">
                <line x1="19" y1="12" x2="5" y2="12"></line>
                <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
        </button>
        <div class="w-full flex justify-between">
            <div class="flex mx-16 items-center">
                <div class="p-1 rounded-full bg-[#FFDFD4] border border-[#FFBEA8]">
                    <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 40 36"
                        fill="none">
                        <path
                            d="M7.78297 37.8654C7.78297 37.8654 6.90938 30.2071 14.4346 29.3527H17.6547V27.8693C17.6547 27.8693 19.9198 28.8423 22.2135 27.9779L22.2859 29.3527H26.0487C26.0487 29.3527 32.6014 30.0069 32.2051 37.8654H7.78297Z"
                            fill="#1D1D1D" />
                        <path
                            d="M32.1425 38H8.01576H7.54785L7.66465 36.0047C7.8927 32.1088 10.9622 29.1357 14.4749 29.1357H17.1481V29.5337H14.6881C11.3026 29.5337 8.34426 32.3955 8.12446 36.1455L8.04333 37.5296H32.0787L32.0338 36.1455C31.814 32.3955 28.8556 29.5337 25.4701 29.5337H22.1773V29.1357H25.6619C29.1746 29.1357 32.2441 32.1088 32.4721 36.0047L32.5889 38H32.1425Z"
                            fill="#1D1D1D" />
                        <path
                            d="M18.0165 27.702V29.9334C18.0165 31.0914 18.956 32.0301 20.115 32.0301C21.2739 32.0301 22.2135 31.0914 22.2135 29.9334V27.748C22.3353 27.7109 22.4559 27.6707 22.5753 27.6272V29.9486C22.5753 31.318 21.4657 32.4281 20.0969 32.4281C18.7281 32.4281 17.6185 31.318 17.6185 29.9486V27.5584C17.7496 27.6103 17.8824 27.6579 18.0165 27.702ZM17.6004 31.994C17.7303 31.994 17.8356 32.0993 17.8356 32.2291V35.7749C17.8356 35.9048 17.7303 36.01 17.6004 36.01C17.4705 36.01 17.3652 35.9048 17.3652 35.7749V32.2291C17.3652 32.0993 17.4705 31.994 17.6004 31.994ZM22.5391 31.9578C22.679 31.9578 22.7924 32.0712 22.7924 32.2111V34.4181C22.7924 34.558 22.679 34.6714 22.5391 34.6714C22.3992 34.6714 22.2858 34.558 22.2858 34.4181V32.2111C22.2858 32.0712 22.3992 31.9578 22.5391 31.9578Z"
                            fill="#777777" />
                        <path
                            d="M17.6003 35.7568C17.6702 35.7568 17.7269 35.8135 17.7269 35.8834V36.7879C17.7269 36.8579 17.6702 36.9146 17.6003 36.9146C17.5303 36.9146 17.4736 36.8579 17.4736 36.7879V35.8834C17.4736 35.8135 17.5303 35.7568 17.6003 35.7568ZM22.557 34.4181C22.627 34.4181 22.6837 34.4748 22.6837 34.5447V35.4492C22.6837 35.5192 22.627 35.5759 22.557 35.5759C22.4871 35.5759 22.4304 35.5192 22.4304 35.4492V34.5447C22.4304 34.4748 22.4871 34.4181 22.557 34.4181Z"
                            fill="#DFE0E0" />
                        <path
                            d="M16.2428 26.8116L13.9512 27.3378C13.9512 27.3378 11.145 27.9734 13.012 29.8647C14.879 31.756 19.6807 32.0901 19.6807 32.0901C19.6807 32.0901 18.4111 31.4887 17.8716 30.6428L17.6907 27.6036L16.2428 26.8116Z"
                            fill="white" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M19.7537 32.271C19.6115 32.4509 15.6133 32.3272 12.8431 29.9192C10.8374 28.1757 13.8562 27.1695 13.8562 27.1695L16.0632 26.6629L17.9808 27.6398L18.1256 30.5705C18.9328 31.8362 19.9826 31.9813 19.7537 32.271ZM17.7638 30.7152L17.5467 27.6398L16.3889 26.9886L14.1818 27.5313C14.1818 27.5313 11.5086 28.0795 13.205 29.6659C15.0357 31.3781 18.4225 31.8376 18.7768 31.8006C19.1441 31.7623 18.571 31.9809 17.7638 30.7152Z"
                            fill="#777777" />
                        <path
                            d="M23.9848 26.8968L26.2777 27.4246C26.2777 27.4246 29.0857 28.0622 27.2176 29.9591C25.3494 31.8561 20.5449 32.1911 20.5449 32.1911C20.5449 32.1911 21.8152 31.588 22.355 30.7396L22.5361 27.6913L23.9848 26.8968Z"
                            fill="white" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M20.4724 32.3364C20.6146 32.5169 24.6153 32.3928 27.387 29.9776C29.3939 28.2288 26.3734 27.2196 26.3734 27.2196L24.165 26.7115L22.2463 27.6914L22.1015 30.6308C21.2938 31.9003 20.2433 32.0458 20.4724 32.3364ZM22.4635 30.7759L22.6807 27.6914L23.8392 27.0382L26.0475 27.5825C26.0475 27.5825 28.7224 28.1323 27.025 29.7236C25.1932 31.4408 21.8044 31.9017 21.4498 31.8646C21.0824 31.8262 21.6558 32.0455 22.4635 30.7759Z"
                            fill="#777777" />
                        <path
                            d="M20.2669 5.00302C24.7679 5.00302 28.3205 9.20916 28.205 14.2629L28.0822 19.6342C27.9734 24.3953 24.4756 28.1588 20.2669 28.1588C16.0583 28.1588 12.5605 24.3953 12.4517 19.6342L12.3289 14.2629C12.2134 9.20916 15.766 5.00302 20.2669 5.00302Z"
                            fill="white" />
                        <path
                            d="M16.2322 17.992C16.9315 17.992 17.4985 18.0321 17.4985 18.8241C17.4985 19.6411 16.9315 19.6563 16.2322 19.6563C15.5328 19.6563 14.9658 19.5075 14.9658 18.8241C14.9658 18.0259 15.5328 17.992 16.2322 17.992ZM24.6261 17.992C25.3255 17.992 25.8924 18.0321 25.8924 18.8241C25.8924 19.6411 25.3255 19.6563 24.6261 19.6563C23.9267 19.6563 23.3598 19.5075 23.3598 18.8241C23.3598 18.0259 23.9267 17.992 24.6261 17.992Z"
                            fill="#DFE0E0" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M28.5661 14.0964L28.4375 19.6859C28.3235 24.6404 24.6583 28.5568 20.2484 28.5568C15.8384 28.5568 12.1733 24.6404 12.0593 19.6859L11.9306 14.0964C11.8096 8.8373 15.5321 4.4603 20.2484 4.4603C24.9646 4.4603 28.6872 8.8373 28.5661 14.0964ZM20.2303 5.03919C15.7909 5.03919 12.2868 9.21246 12.4008 14.2268L12.5219 19.5561C12.6292 24.28 16.0792 28.0141 20.2303 28.0141C24.3814 28.0141 27.8314 24.28 27.9387 19.5561L28.0598 14.2268C28.1738 9.21246 24.6697 5.03919 20.2303 5.03919Z"
                            fill="#1D1D1D" />
                        <path
                            d="M24.1557 22.8837C23.4981 23.4547 22.0127 23.998 20.2844 23.998C18.5561 23.998 17.0707 23.4547 16.413 22.8837C16.413 22.8837 16.3457 22.6985 16.4444 22.5998C16.545 22.4993 16.7025 22.5212 16.7025 22.5212C17.3594 23.0926 18.5554 23.5638 20.2844 23.5638C22.0133 23.5638 23.2093 23.0926 23.8663 22.5212C23.8663 22.5212 24.027 22.4615 24.105 22.5395C24.2554 22.6899 24.1557 22.8837 24.1557 22.8837ZM19.0904 24.8663H21.406V25.2281H19.0904V24.8663Z"
                            fill="#1D1D1D" />
                        <path
                            d="M11.9222 14.9115C11.9212 14.9115 11.8334 14.8414 11.6675 14.7892C11.5846 14.7631 11.4816 14.7417 11.3641 14.7364C11.3348 14.7351 11.3046 14.7348 11.2737 14.7356C11.2428 14.7365 11.2113 14.7386 11.1791 14.742C11.1149 14.7489 11.0486 14.7612 10.9819 14.7804C10.7147 14.8572 10.4421 15.0439 10.282 15.4293C10.2016 15.6219 10.1486 15.8643 10.1346 16.1676C10.1311 16.2434 10.13 16.323 10.1315 16.4066C10.1331 16.4902 10.1372 16.5778 10.1442 16.6695C10.158 16.853 10.183 17.0531 10.2203 17.2711C10.2195 17.2709 10.1856 17.93 10.4212 18.6874C10.6427 19.4278 11.1746 20.3374 12.1568 20.5974C12.0438 18.7166 12.0403 16.8005 11.9222 14.9115Z"
                            fill="white" />
                        <path
                            d="M12.0335 14.9873C12.0335 14.9873 10.3226 14.4572 10.3828 16.2161C10.3828 16.2161 10.6375 18.7666 10.7482 19.0017C10.7482 19.0017 11.4201 20.4867 12.529 20.5525L12.5425 21.0312C12.5425 21.0312 10.5934 20.7813 10.217 18.5351L9.91983 16.4946C9.91983 16.4946 9.68912 13.7942 11.927 14.4808L12.0335 14.9873Z"
                            fill="#1D1D1D" />
                        <path
                            d="M11.4689 18.5308C11.4689 18.5308 11.3732 18.6032 11.2909 18.6032C11.2087 18.6032 11.1141 18.5308 11.1141 18.5308L10.9375 16.7515C10.9375 16.7515 11.1811 15.8753 12.2149 16.3383L12.2393 16.8471C12.2393 16.8471 11.3324 16.5255 11.3511 16.926C11.3692 17.3115 11.4689 18.5308 11.4689 18.5308Z"
                            fill="#1D1D1D" />
                        <path
                            d="M28.5432 14.9156C28.5442 14.9157 28.6324 14.8456 28.799 14.7934C28.8823 14.7674 28.9858 14.7459 29.1037 14.7407C29.1332 14.7393 29.1635 14.739 29.1945 14.7399C29.2255 14.7408 29.2573 14.7428 29.2895 14.7463C29.354 14.7531 29.4206 14.7654 29.4876 14.7846C29.756 14.8614 30.0298 15.048 30.1906 15.4331C30.2713 15.6256 30.3246 15.8678 30.3386 16.1709C30.3422 16.2466 30.3432 16.3262 30.3417 16.4098C30.3402 16.4933 30.336 16.5808 30.329 16.6725C30.3151 16.8558 30.29 17.0558 30.2525 17.2737C30.2533 17.2735 30.2875 17.9321 30.0508 18.689C29.8283 19.4289 29.294 20.3379 28.3076 20.5976C28.4211 18.7181 28.4246 16.8034 28.5432 14.9156Z"
                            fill="white" />
                        <path
                            d="M28.4297 14.9914C28.4297 14.9914 30.1481 14.4616 30.0877 16.2194C30.0877 16.2194 29.8318 18.7682 29.7207 19.0031C29.7207 19.0031 29.0458 20.4871 27.932 20.5528L27.9185 21.0312C27.9185 21.0312 29.8761 20.7814 30.2542 18.5368L30.5527 16.4977C30.5527 16.4977 30.7844 13.7992 28.5367 14.4853L28.4297 14.9914Z"
                            fill="#1D1D1D" />
                        <path
                            d="M28.9974 18.5325C28.9974 18.5325 29.0936 18.6048 29.1762 18.6048C29.2588 18.6048 29.3538 18.5325 29.3538 18.5325L29.5312 16.7544C29.5312 16.7544 29.2865 15.8788 28.2482 16.3415L28.2236 16.8499C28.2236 16.8499 29.1346 16.5285 29.1157 16.9288C29.0976 17.3141 28.9974 18.5325 28.9974 18.5325Z"
                            fill="#1D1D1D" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M20.9182 18.39C20.9604 18.39 21.0027 18.39 21.0449 18.39C21.3067 18.7455 21.4132 19.2919 21.5514 19.7648C21.5942 19.9114 21.5527 20.1677 21.5152 20.2714C21.378 20.6509 20.9473 20.6441 20.5926 20.8141C20.4974 20.8597 20.4265 20.9385 20.3032 20.9588C20.2227 20.888 20.1256 20.8741 20.0861 20.7598C19.9884 20.6252 20.1143 20.5412 20.2127 20.4884C20.3913 20.3927 20.9427 20.2982 21.0087 20.1266C21.0904 20.0337 21.0361 19.7544 21.0087 19.6563C20.9386 19.4051 20.9049 19.1954 20.8097 18.9688C20.7464 18.8184 20.6353 18.6597 20.7011 18.4804C20.7557 18.457 20.8736 18.4304 20.9182 18.39Z"
                            fill="#1D1D1D" />
                        <path
                            d="M15.6538 15.8356H16.9563C17.1361 15.8356 17.2819 16.0105 17.2819 16.2263C17.2819 16.4421 17.1361 16.6171 16.9563 16.6171H15.6538C15.4739 16.6171 15.3281 16.4421 15.3281 16.2263C15.3281 16.0105 15.4739 15.8356 15.6538 15.8356ZM23.6136 15.7487H24.9161C25.0959 15.7487 25.2417 15.9237 25.2417 16.1395C25.2417 16.3553 25.0959 16.5303 24.9161 16.5303H23.6136C23.4337 16.5303 23.2879 16.3553 23.2879 16.1395C23.2879 15.9237 23.4337 15.7487 23.6136 15.7487Z"
                            fill="#1D1D1D" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M28.1294 14.5355C28.0804 14.9536 28.0374 15.4651 27.947 15.9225C27.6767 17.2902 26.5015 18.5573 24.4949 18.7017C22.4882 18.8461 20.7804 17.8359 20.6803 16.4454C20.6633 16.2096 20.6179 15.945 20.5831 15.6878C20.2991 15.5304 20.0064 15.53 19.705 15.6867C19.6698 15.9498 19.6227 16.2213 19.6053 16.4627C19.5049 17.8579 17.7917 18.8714 15.7787 18.7266C13.7657 18.5817 12.5868 17.3104 12.3156 15.9381C12.225 15.4792 12.1818 14.966 12.1327 14.5465L11.8369 14.5253L11.8785 13.9479L11.9506 13.953L13.7813 14.0848L15.3266 14.196L16.8748 14.3074L19.2862 14.4809C19.4525 14.502 19.5631 14.5733 19.6343 14.6798C19.9806 14.8314 20.3169 14.832 20.6433 14.6816C20.7139 14.5682 20.8259 14.4919 20.9984 14.4701L23.4022 14.2972L24.9455 14.1861L26.486 14.0753L28.3109 13.944L28.3828 13.9388L28.4243 14.5143L28.1294 14.5355ZM18.6387 15.1594L13.9127 14.8194C13.2946 14.7661 13.0755 15.4607 13.0374 15.9901C12.9571 17.1062 14.2007 18.1052 15.815 18.2213C17.4294 18.3375 18.8033 17.5269 18.8836 16.4108C18.9217 15.8814 19.0946 15.5544 18.6387 15.1594ZM27.2276 15.9743C27.1896 15.4466 26.9712 14.7543 26.355 14.8074L21.6439 15.1464C21.1894 15.5401 21.3618 15.8659 21.3998 16.3936C21.4798 17.506 22.8493 18.314 24.4586 18.1982C26.0679 18.0824 27.3076 17.0867 27.2276 15.9743Z"
                            fill="#1D1D1D" />
                        <path
                            d="M12.1715 14.591C12.1715 14.591 12.4506 10.2326 15.1403 8.29549C15.1403 8.29549 19.0238 10.9373 25.1328 8.29549C25.1328 8.29549 27.8348 9.5262 28.2464 14.591H28.3914C28.3914 14.591 29.1651 8.78958 27.1602 6.48644C27.1602 6.48644 26.6664 4.72262 24.0466 3.44725L23.1053 4.02614C23.1053 4.02614 22.4729 3.25221 20.7882 2.28946C20.7882 2.28946 19.5422 2.84461 18.9056 3.80906L17.8918 3.1578C17.8918 3.1578 16.4753 3.80623 15.6471 4.96685L14.1265 5.18393L13.33 6.63117C13.33 6.63117 11.4287 8.16292 12.0264 14.4462L12.1715 14.591Z"
                            fill="#1D1D1D" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M28.6812 14.591L27.9934 14.5548C27.5819 9.49001 25.1331 8.58492 25.1331 8.58492C19.0241 11.2267 15.1405 8.54874 15.1405 8.54874C12.7913 10.5528 12.425 14.6271 12.425 14.6271L11.8096 14.4462C11.212 8.16291 13.1132 6.52261 13.1132 6.52261L13.9821 4.93065L15.5751 4.71357C16.4032 3.55295 17.9283 2.83216 17.9283 2.83216L18.8739 3.44723C19.5106 2.48279 20.8277 2 20.8277 2C22.5123 2.96275 23.1433 3.7005 23.1433 3.7005L24.1193 3.15779C26.739 4.43317 27.45 6.45025 27.45 6.45025C29.4548 8.75339 28.6812 14.591 28.6812 14.591ZM26.9784 6.59497C26.9784 6.59497 26.6675 5.01206 24.0478 3.73668L23.0709 4.31558C23.0709 4.31558 22.44 3.54164 20.7553 2.57889C20.7553 2.57889 19.6191 3.17023 18.9824 4.13467L17.897 3.44723C17.897 3.44723 16.5905 4.05948 15.7623 5.2201L14.3151 5.43719L13.5553 6.81206C13.5553 6.81206 11.9772 8.01743 12.1443 12.8905L12.1804 12.8543C12.1804 12.8543 12.6825 9.82516 15.1405 7.96985C15.1405 7.96985 19.1326 10.684 25.2416 8.04221C25.2416 8.04221 27.4985 9.10361 28.2809 12.8905C28.2809 12.8905 28.7454 8.99554 26.9784 6.59497Z"
                            fill="#1D1D1D" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M20.3447 3.91813C20.398 3.95773 20.3716 3.99437 20.3601 4.04389C20.3428 4.11776 20.3224 4.19088 20.3108 4.2646C20.2934 4.3763 20.2774 4.48813 20.2729 4.59833C20.269 4.691 20.2707 4.78336 20.2723 4.87513C20.2732 4.92812 20.2823 4.98102 20.2836 5.0341C20.2841 5.05528 20.2899 5.07652 20.2905 5.09807C20.2918 5.10392 20.2931 5.10977 20.2944 5.11562C20.2952 5.1427 20.3023 5.16854 20.303 5.19558C20.3074 5.22005 20.3118 5.24454 20.3163 5.26902C20.3228 5.30781 20.3259 5.3483 20.3378 5.38609C20.3391 5.39577 20.3404 5.40545 20.3417 5.41512C20.3511 5.44515 20.3542 5.47615 20.3637 5.50627C20.3643 5.51222 20.365 5.51818 20.3657 5.52413C20.3794 5.56756 20.3856 5.61326 20.3993 5.65643C20.4216 5.72652 20.4397 5.79691 20.4643 5.86684C20.4806 5.91323 20.4946 5.96181 20.511 6.00847C20.5402 6.09152 20.5757 6.17263 20.6078 6.25478C20.6273 6.30478 20.6535 6.35098 20.6744 6.40077C20.7335 6.54167 20.8095 6.68015 20.8822 6.81826C20.9057 6.86288 20.9315 6.90392 20.9575 6.9475C20.9741 6.9753 20.9914 7.00646 21.0067 7.0351C21.0151 7.05095 21.0258 7.0629 21.035 7.07829C21.0549 7.11165 21.0766 7.1475 21.0962 7.18112C21.1144 7.2122 21.135 7.23874 21.155 7.26904C21.1767 7.3017 21.1981 7.33845 21.22 7.37125C21.2582 7.42826 21.2986 7.48334 21.3364 7.53965C21.3756 7.59814 21.4197 7.64993 21.4612 7.70759C21.5417 7.81932 21.6358 7.92652 21.7226 8.03866C21.7486 8.07223 21.7796 8.10158 21.8056 8.13406C21.8186 8.15027 21.8402 8.16442 21.849 8.18145C21.8526 8.18839 21.8546 8.19907 21.8571 8.20692C21.8611 8.21955 21.86 8.23515 21.8602 8.24853C21.8605 8.26994 21.8615 8.29163 21.8578 8.31404C21.8539 8.33726 21.8391 8.36281 21.8296 8.38573C21.8219 8.40414 21.8027 8.42036 21.7918 8.42932C21.7827 8.43686 21.779 8.44388 21.7697 8.45119C21.7454 8.47021 21.7181 8.48585 21.6916 8.4938C21.6641 8.50204 21.6286 8.47737 21.6069 8.45134C21.5689 8.4058 21.5214 8.36399 21.485 8.31833C21.4772 8.30857 21.4685 8.30424 21.4609 8.29456C21.4188 8.24134 21.3672 8.19123 21.3256 8.13887C21.3161 8.12692 21.3058 8.12022 21.2966 8.10826C21.2643 8.06624 21.2264 8.02838 21.1936 7.98552C21.1115 7.87809 21.0229 7.77429 20.9486 7.6661C20.9312 7.64081 20.9126 7.62083 20.8956 7.59542C20.7752 7.41564 20.6545 7.23897 20.5581 7.05578C20.5327 7.00757 20.5047 6.96374 20.4809 6.91536C20.4135 6.77802 20.3506 6.64076 20.293 6.50223C20.2854 6.48403 20.2799 6.46368 20.2729 6.44524C20.2413 6.36208 20.2127 6.27996 20.1843 6.19661C20.1557 6.11253 20.1394 6.02469 20.1127 5.94039C20.107 5.92262 20.1053 5.90333 20.0996 5.88512C20.0988 5.87854 20.098 5.87197 20.0972 5.8654C20.091 5.84563 20.0903 5.82461 20.0843 5.80531C20.0698 5.759 20.0653 5.70895 20.0573 5.66137C20.0498 5.61646 20.0395 5.57054 20.0383 5.52474C20.0365 5.51641 20.0348 5.50807 20.0331 5.49974C20.0323 5.46999 20.0248 5.44059 20.024 5.41124C20.0227 5.36002 20.0146 5.30896 20.0137 5.25785C20.0125 5.1943 20.01 5.13051 20.0104 5.0669C20.0108 5.00322 20.0161 4.94097 20.0197 4.87674C20.0297 4.70276 20.0615 4.52793 20.1035 4.34776C20.1188 4.2824 20.1432 4.21846 20.1638 4.15299C20.178 4.10789 20.2003 4.06443 20.2162 4.01984C20.2204 4.00821 20.2268 4.00129 20.2313 3.98959C20.2408 3.96443 20.2533 3.93349 20.2766 3.91698C20.287 3.90959 20.3109 3.90564 20.3231 3.90926C20.3317 3.91178 20.3371 3.91835 20.3447 3.91813ZM18.6468 5.16539C18.6853 5.19327 18.6823 5.23409 18.6832 5.26851C18.6842 5.30418 18.6944 5.33968 18.6954 5.37564C18.6996 5.40048 18.7038 5.42533 18.7079 5.45017C18.7085 5.47029 18.7135 5.48937 18.7168 5.50901C18.7202 5.52925 18.7217 5.54962 18.7279 5.56941C18.7316 5.59177 18.7354 5.61413 18.7391 5.63649C18.7453 5.65618 18.746 5.67723 18.7521 5.69658C18.7708 5.75641 18.778 5.8199 18.7971 5.87965C18.8173 5.943 18.8321 6.00849 18.8541 6.07128C18.8829 6.15352 18.911 6.23629 18.9423 6.31804C18.9584 6.35984 18.9774 6.39892 18.9945 6.44058C19.0075 6.47243 19.0199 6.50713 19.0348 6.53827C19.0965 6.66755 19.1602 6.79673 19.228 6.92563C19.2817 7.02769 19.3458 7.12509 19.4047 7.22573C19.4228 7.25676 19.4433 7.28343 19.4635 7.31365C19.5089 7.38186 19.5572 7.4528 19.6037 7.52212C19.6477 7.58766 19.7006 7.64874 19.7468 7.7129C19.7544 7.72338 19.7631 7.72905 19.7704 7.73962C19.7939 7.77347 19.8246 7.80606 19.8503 7.83937C19.8633 7.85611 19.8797 7.86774 19.8915 7.8852C19.9174 7.92345 19.9335 7.99477 19.9212 8.03923C19.8998 8.11626 19.8255 8.16813 19.7689 8.18796C19.7518 8.19395 19.7252 8.20478 19.7066 8.19923C19.6774 8.19049 19.6587 8.16446 19.6417 8.14297C19.6196 8.11519 19.5938 8.09503 19.5725 8.0673C19.533 8.01607 19.4865 7.97029 19.447 7.91861C19.3643 7.81041 19.2796 7.70573 19.2061 7.59563C19.0361 7.34071 18.895 7.08339 18.7849 6.81901C18.7392 6.70926 18.7024 6.59609 18.6657 6.4845C18.6526 6.44477 18.6454 6.40226 18.6328 6.3626C18.6155 6.30825 18.6079 6.25219 18.5909 6.19816C18.59 6.19097 18.5891 6.18378 18.5882 6.17658C18.5855 6.16451 18.5814 6.15288 18.5794 6.14071C18.5779 6.13041 18.5765 6.12011 18.5751 6.10981C18.5687 6.08944 18.5672 6.0684 18.5638 6.04755C18.5604 6.02731 18.5551 6.00757 18.5545 5.98684C18.552 5.97354 18.5494 5.96024 18.5469 5.94694C18.5454 5.89268 18.5323 5.8395 18.5312 5.78485C18.531 5.77196 18.5269 5.7583 18.5266 5.74542C18.5253 5.69315 18.5201 5.64073 18.5204 5.58846C18.5207 5.52894 18.5201 5.46839 18.5238 5.40885C18.5253 5.38539 18.5294 5.36328 18.5304 5.33977C18.5316 5.31398 18.5361 5.28928 18.5395 5.26262C18.5416 5.24682 18.5416 5.22769 18.5463 5.21171C18.5512 5.19549 18.5678 5.16926 18.5831 5.16254C18.5936 5.15795 18.6138 5.15339 18.6252 5.15652C18.6338 5.15887 18.6391 5.1656 18.6468 5.16539ZM17.3493 5.4358C17.3927 5.46755 17.3806 5.50762 17.3803 5.54652C17.3799 5.60911 17.3862 5.67159 17.3878 5.7339C17.389 5.78358 17.4017 5.83292 17.4031 5.88264C17.4061 5.89842 17.4091 5.91421 17.412 5.93C17.4128 5.95755 17.4187 5.99312 17.427 6.01943C17.4278 6.026 17.4286 6.03258 17.4293 6.03915C17.4319 6.05441 17.4351 6.06942 17.4398 6.08433C17.4409 6.09277 17.442 6.10121 17.4431 6.10964C17.4542 6.14516 17.4576 6.18316 17.4689 6.21834C17.496 6.30247 17.5174 6.38852 17.5469 6.47254C17.6109 6.65466 17.6986 6.83118 17.7918 7.00837C17.8223 7.06627 17.8603 7.12015 17.8911 7.17768C17.9042 7.2022 17.9215 7.22212 17.936 7.24587C17.9758 7.31079 18.022 7.37555 18.0653 7.43989C18.1252 7.52894 18.1981 7.61012 18.2618 7.69841C18.2841 7.72935 18.3123 7.75621 18.3339 7.78604C18.3532 7.81256 18.3781 7.83246 18.3988 7.8586C18.4396 7.91038 18.4911 7.95969 18.5345 8.01133C18.5595 8.04114 18.5893 8.06521 18.6135 8.094C18.6405 8.12616 18.6745 8.15188 18.7011 8.18288C18.7079 8.18879 18.7146 8.19469 18.7213 8.2006C18.7485 8.23275 18.7864 8.26123 18.8145 8.29337C18.8264 8.30709 18.8406 8.3135 18.8527 8.32725C18.892 8.37194 18.9474 8.40816 18.9878 8.45328C18.9993 8.46616 19.0146 8.47488 19.0249 8.48639C19.0293 8.48949 19.0336 8.4926 19.038 8.49571C19.0519 8.51123 19.0736 8.52544 19.0877 8.54109C19.0924 8.54446 19.0972 8.54783 19.1019 8.5512C19.1249 8.57681 19.1605 8.59708 19.1838 8.62284C19.1899 8.62725 19.1961 8.63165 19.2023 8.63606C19.232 8.66888 19.2791 8.69237 19.3092 8.72558C19.3227 8.73579 19.3363 8.746 19.3498 8.7562C19.3564 8.76347 19.3706 8.76975 19.3784 8.77828C19.3989 8.80086 19.4335 8.81859 19.4558 8.84014C19.4689 8.85287 19.4896 8.86165 19.5007 8.87387C19.5105 8.88465 19.5283 8.89186 19.5369 8.90138C19.5652 8.92159 19.5935 8.9418 19.6218 8.96201C19.6887 9.00984 19.7554 9.05468 19.8202 9.10052C19.8509 9.12222 19.889 9.13932 19.9079 9.16643C19.9186 9.18175 19.9228 9.20375 19.9284 9.22048C19.9411 9.2581 19.9463 9.30276 19.9357 9.34374C19.9325 9.35623 19.9259 9.36466 19.9213 9.37773C19.9137 9.39867 19.9013 9.43116 19.8789 9.45081C19.8644 9.46358 19.8492 9.4808 19.8331 9.4919C19.8083 9.509 19.7812 9.49988 19.7509 9.48732C19.7413 9.48094 19.7316 9.47457 19.7219 9.46819C19.6754 9.44825 19.632 9.40559 19.5854 9.38547C19.5765 9.3816 19.5671 9.37188 19.5596 9.36868C19.5441 9.35816 19.5287 9.34764 19.5132 9.33712C19.4961 9.32975 19.4808 9.31186 19.4616 9.30354C19.4455 9.29658 19.429 9.28357 19.4132 9.27229C19.4074 9.26814 19.4016 9.264 19.3958 9.25985C19.3803 9.25313 19.362 9.23893 19.3475 9.2286C19.3265 9.21358 19.3054 9.19855 19.2844 9.18352C19.2618 9.17371 19.2368 9.15112 19.2151 9.13564C19.1971 9.12281 19.1728 9.10898 19.1593 9.09413C19.147 9.08532 19.1346 9.07651 19.1223 9.06771C19.0965 9.04931 19.0712 9.03116 19.0488 9.0119C19.0365 9.00309 19.0241 8.99428 19.0118 8.98547C18.9939 8.96578 18.963 8.95088 18.9453 8.93139C18.9369 8.92543 18.9286 8.91947 18.9202 8.91351C18.9073 8.89922 18.885 8.88672 18.8722 8.87263C18.865 8.86745 18.8577 8.86227 18.8505 8.85709C18.8406 8.84621 18.8231 8.83484 18.8133 8.82398C18.8075 8.81984 18.8017 8.81569 18.7959 8.81155C18.7619 8.77385 18.7122 8.74537 18.679 8.70835C18.6686 8.69986 18.6583 8.69136 18.6479 8.68286C18.605 8.63464 18.5471 8.59591 18.5057 8.54844C18.4944 8.53553 18.4817 8.52971 18.4707 8.51689C18.4325 8.47246 18.3836 8.43286 18.3468 8.38901C18.3407 8.38178 18.3348 8.3801 18.3288 8.37285C18.3114 8.35202 18.289 8.33051 18.2722 8.30945C18.2644 8.29965 18.2559 8.29551 18.2481 8.28568C18.1899 8.21217 18.1214 8.14656 18.065 8.07281C17.965 7.94221 17.8608 7.81476 17.7818 7.68024C17.7639 7.64978 17.7426 7.62428 17.7252 7.59387C17.6944 7.54008 17.6609 7.48711 17.632 7.43217C17.5868 7.34622 17.5445 7.25954 17.5034 7.17295C17.4744 7.11204 17.4515 7.04653 17.4277 6.98442C17.4082 6.93343 17.3896 6.88386 17.3717 6.83284C17.3541 6.78264 17.3414 6.73043 17.325 6.67973C17.3082 6.62817 17.3014 6.57346 17.2851 6.52165C17.2789 6.50198 17.2795 6.47714 17.2734 6.45753C17.2582 6.40917 17.2546 6.35662 17.2462 6.30692C17.2107 6.09477 17.207 5.87753 17.2226 5.65689C17.2262 5.60597 17.2368 5.55775 17.2452 5.50571C17.249 5.48201 17.2568 5.45189 17.283 5.43434C17.2914 5.42874 17.318 5.42434 17.3278 5.42693C17.3357 5.42906 17.342 5.43598 17.3493 5.4358Z"
                            fill="#1D1D1D" />
                    </svg>
                </div>
                <p class="text-md font-normal ml-2">{{ $report->user->name }}</p>
            </div>
        </div>
        <a href="https://wa.me/{{ $report->user->phonenumber }}" target="_blank"
            class="p-2 px-3 flex items-center bg-[#FE5D26] rounded-full">
            <svg class="fill-white" xmlns="http://www.w3.org/2000/svg" fill="none" width="20" height="20"
                viewBox="0 0 32 32" version="1.1">
                <title>whatsapp</title>
                <path
                    d="M26.576 5.363c-2.69-2.69-6.406-4.354-10.511-4.354-8.209 0-14.865 6.655-14.865 14.865 0 2.732 0.737 5.291 2.022 7.491l-0.038-0.070-2.109 7.702 7.879-2.067c2.051 1.139 4.498 1.809 7.102 1.809h0.006c8.209-0.003 14.862-6.659 14.862-14.868 0-4.103-1.662-7.817-4.349-10.507l0 0zM16.062 28.228h-0.005c-0 0-0.001 0-0.001 0-2.319 0-4.489-0.64-6.342-1.753l0.056 0.031-0.451-0.267-4.675 1.227 1.247-4.559-0.294-0.467c-1.185-1.862-1.889-4.131-1.889-6.565 0-6.822 5.531-12.353 12.353-12.353s12.353 5.531 12.353 12.353c0 6.822-5.53 12.353-12.353 12.353h-0zM22.838 18.977c-0.371-0.186-2.197-1.083-2.537-1.208-0.341-0.124-0.589-0.185-0.837 0.187-0.246 0.371-0.958 1.207-1.175 1.455-0.216 0.249-0.434 0.279-0.805 0.094-1.15-0.466-2.138-1.087-2.997-1.852l0.010 0.009c-0.799-0.74-1.484-1.587-2.037-2.521l-0.028-0.052c-0.216-0.371-0.023-0.572 0.162-0.757 0.167-0.166 0.372-0.434 0.557-0.65 0.146-0.179 0.271-0.384 0.366-0.604l0.006-0.017c0.043-0.087 0.068-0.188 0.068-0.296 0-0.131-0.037-0.253-0.101-0.357l0.002 0.003c-0.094-0.186-0.836-2.014-1.145-2.758-0.302-0.724-0.609-0.625-0.836-0.637-0.216-0.010-0.464-0.012-0.712-0.012-0.395 0.010-0.746 0.188-0.988 0.463l-0.001 0.002c-0.802 0.761-1.3 1.834-1.3 3.023 0 0.026 0 0.053 0.001 0.079l-0-0.004c0.131 1.467 0.681 2.784 1.527 3.857l-0.012-0.015c1.604 2.379 3.742 4.282 6.251 5.564l0.094 0.043c0.548 0.248 1.25 0.513 1.968 0.74l0.149 0.041c0.442 0.14 0.951 0.221 1.479 0.221 0.303 0 0.601-0.027 0.889-0.078l-0.031 0.004c1.069-0.223 1.956-0.868 2.497-1.749l0.009-0.017c0.165-0.366 0.261-0.793 0.261-1.242 0-0.185-0.016-0.366-0.047-0.542l0.003 0.019c-0.092-0.155-0.34-0.247-0.712-0.434z">
                </path>
            </svg>
        </a>
        {{-- <p class="font-semibold text-lg">Notifikasi</p> --}}
    </div>
@endsection
@section('dashboard_content')
    <div class="overflow-y-hidden relative bg-gray-200 py-2">
        <div class="overflow-y-scroll bg-white">
            <div id="roomChat" class="bg-white p-4 mt-[90px] {{($report->report_status != 'selesai' &&
                $report->report_status != 'ditolak' &&
                $report->report_status != 'dibatalkan') ? "h-[750px] max-h-[750px]" : ""}}">
                {{-- <div class="">
                    <div class="mb-2 p-2 rounded border bg-green-50 shadow-lg rounded-xl">
                        <div class="py-1 flex mx-1 justify-end items-center">
                            <div class="text-right">
                                <p class="font-bold text-sm text-orange-500 mx-2 font-bold">Azis Zuhri</p>
                                <p class="text-xs mx-2 font-light">
                                    10/09/2023 | 20:10
                                </p>
                            </div>
                            <img src="{{ asset('icons/fireman.png') }}" class=" w-[50px]" alt="">
                        </div>
                        <div class="mx-2 my-2 mb-4 text-right font-bold">
                            <p class="text-justify text-xs text-slate-700 font-normal font-bold">Lorem ipsum dolor sit,
                                amet consectetur adipisicing elit. Porro repellendus ex molestias! Qui sequi quisquam
                                consequuntur exercitationem adipisci. Officia nemo quia quae voluptas dignissimos
                                praesentium eveniet architecto voluptatum. Reprehenderit, mollitia.</p>
                        </div>
                    </div>
                </div>
                <div class="">
                    <div class="rounded-xl mb-2 p-2 rounded border-2 border-gray-200 shadow-lg">
                        <div class="py-1 flex mx-1 justify-start items-center">
                            <img src="{{ url('/') }}/icons/male.png" class=" w-[50px]" alt="">
                            <div class="text-left">
                                <p class="font-bold mx-2 flex flex-col text-sm text-yellow-900 font-bold">Bayu</p>
                                <p class="text-xs mx-2 font-light text-left">
                                    10/09/2023 | 20:10
                                </p>
                            </div>
                        </div>
                        <div class="mx-2 text-left font-bold">
                            <p class="text-justify text-xs text-slate-700 font-normal font-bold">Lorem ipsum dolor sit amet
                                consectetur adipisicing elit. Doloremque, modi dolore adipisci labore excepturi sint nostrum
                                beatae aspernatur vel. Maxime incidunt temporibus ullam nulla alias laborum, odio ut
                                deleniti mollitia?</p>
                        </div>
                    </div>
                </div> --}}
            </div>
        </div>
        @if (
            $report->report_status != 'selesai' &&
                $report->report_status != 'ditolak' &&
                $report->report_status != 'dibatalkan')
            <div class="w-full h-[90px] px-4 bg-white mt-2">
                <div class="flex h-full items-center">
                    <input id="inputChat" type="text"
                        class="w-11/12 border border-gray-400 rounded-2xl py-[12px] px-4 text-xs placeholder:text-[12px]"
                        placeholder="Ketikan sesuatu...">
                    <button onclick="sendMessage();"
                        class="ml-2 py-2 bg-[#DFE0E0] px-2 rounded-xl flex justify-center border border-[#DFE0E0] w-1/12">
                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 20 20"
                            fill="white">
                            <path
                                d="M16.8087 7.69168L5.142 2.87501C4.70056 2.69234 4.21603 2.63997 3.74575 2.72411C3.27548 2.80825 2.83916 3.02537 2.48845 3.34978C2.13774 3.67419 1.88733 4.09229 1.76685 4.55459C1.64638 5.01689 1.66089 5.50404 1.80867 5.95835L3.092 10L1.77533 14.0417C1.62356 14.4978 1.60651 14.988 1.72623 15.4536C1.84595 15.9192 2.09735 16.3403 2.45033 16.6667C2.9042 17.0876 3.49807 17.3251 4.117 17.3333C4.44594 17.3331 4.77161 17.268 5.07533 17.1417L16.7837 12.325C17.2397 12.1354 17.6293 11.8149 17.9033 11.4041C18.1774 10.9933 18.3237 10.5105 18.3237 10.0167C18.3237 9.52283 18.1774 9.04005 17.9033 8.62924C17.6293 8.21842 17.2397 7.89798 16.7837 7.70835L16.8087 7.69168ZM4.467 15.5833C4.32 15.644 4.15872 15.6613 4.0022 15.6332C3.84568 15.6052 3.70045 15.5329 3.58367 15.425C3.47366 15.3199 3.39453 15.1866 3.35486 15.0397C3.3152 14.8928 3.31652 14.7379 3.35867 14.5917L4.57533 10.8333H16.017L4.467 15.5833ZM4.57533 9.16668L3.33367 5.44168C3.29151 5.29547 3.2902 5.14051 3.32986 4.99361C3.36953 4.84671 3.44866 4.71347 3.55867 4.60835C3.63709 4.52608 3.73151 4.46072 3.83613 4.41629C3.94074 4.37187 4.05334 4.34931 4.167 4.35001C4.27871 4.35023 4.38923 4.3729 4.492 4.41668L16.017 9.16668H4.57533Z"
                                fill="#9FA1A3" />
                        </svg>
                    </button>
                </div>
            </div>
        @endif
    </div>
@endsection

@section('dashboard_js')
    <script>
        const sendMessage = () => {
            let message = $("#inputChat").val();
            console.log("test");
            $.ajax(`{{ route('fireman.send.message', $report->id) }}`, {
                type: 'POST',
                data: {
                    message
                },
                success: function(data) {
                    console.log(data);
                    $("#inputChat").val("");
                    getMessages();
                },
                error: function(jqXhr, textStatus, errorMessage) {
                    console.log(errorMessage);
                }
            });
        }

        const getMessages = async () => {
            let errorBanner =
                `<p id="errorBanner" style="display:none" class="text-center py-4 rounded-xl text-xs font-bold bg-slate-100 border-2 text-slate-500 p-1">Pesan Kosong</p>`
            await fetch(`{{ route('fireman.get.message', $report->id) }}`)
                .then(res => res.json())
                .then(json => {
                    let data = json.data;
                    console.log(data);
                    let messages = "";
                    if (data.length < 1) {
                        $("#roomChat").html(errorBanner);
                        $("#errorBanner").slideDown(0);
                    } else {
                        data.forEach(val => {
                            messages += templateMessage(val);
                        })
                        $("#roomChat").html(messages);
                        const element = document.getElementById("roomChat")
                        element.scrollTop = element.scrollHeight;
                    }
                })
        }
        const templateMessage = (data) => {
            if (data.user_id == '{{ Auth::user()->id }}') {
                return `<div class="">
                    <div class="mb-2 p-2 rounded border bg-green-50 shadow-lg rounded-xl">
                        <div class="py-1 flex mx-1 justify-end items-center">
                            <div class="text-right">
                                <p class="font-bold text-sm text-orange-500 mx-2 font-bold">Azis Zuhri</p>
                                <p class="text-xs mx-2 font-light">
                                    ${moment(data.created_at).format("MMMM Do YYYY")} | ${moment(data.created_at).format("hh:mm")}
                                </p>
                            </div>
                            <img src="{{ asset('icons/fireman.png') }}" class=" w-[50px]" alt="">
                        </div>
                        <div class="mx-2 my-2 mb-4 text-right font-bold">
                            <p class="text-justify text-xs text-slate-700 font-normal font-bold">${data.message}</p>
                        </div>
                    </div>
                </div>`;
            } else {
                return ` <div class="">
                    <div class="rounded-xl mb-2 p-2 rounded border-2 border-gray-200 shadow-lg">
                        <div class="py-1 flex mx-1 justify-start items-center">
                            <img src="{{ url('/') }}/icons/${data.user.gender == 'pria' ? 'male' : 'female'}.png" class=" w-[50px]" alt="">
                            <div class="text-left">
                                <p class="font-bold mx-2 flex flex-col text-sm text-yellow-900 font-bold">Bayu</p>
                                <p class="text-xs mx-2 font-light text-left">
                                    ${moment(data.created_at).format("MMMM Do YYYY")} | ${moment(data.created_at).format("hh:mm")}
                                </p>
                            </div>
                        </div>
                        <div class="mx-2 text-left font-bold">
                            <p class="text-justify text-xs text-slate-700 font-normal font-bold">${data.message}</p>
                        </div>
                    </div>
                </div>`;
            }
        }
        getMessages();

        @if ($report->report_status == 'pending' || $report->report_status == 'diproses')
            const getMessageInterval = (time) => {
                setInterval(() => {
                    getMessages();
                }, time);
            }
            getMessageInterval(3000);
        @endif
    </script>
@endsection
