@extends('new_app.dashboard.template.master')
@section('dashboard_title')
    Detail Laporan
@endsection
@section('dashboard_css')
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
        integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
    <style>
        .leaflet-routing-container {
            display: none;
        }

        .leaflet-div-icon {
            background: none;
            border: none;
        }

        #exampleModalSm {
            z-index: 999999999999;
        }

        .undefined {
            z-index: 999999;
        }
    </style>
@endsection
@section('back')
    <div class="mt-10 mb-4 flex justify-center absolute top-[-20px] z-[1001] w-full">
        <div
            class="bg-orange-100 text-orange-500 border-2 border-orange-500 flex w-[300px] py-[12px] rounded justify-center items-center relative rounded-lg shadow-lg">
            <a href="{{route('fireman.home')}}" class="absolute left-3 flex items-center ">
                <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none"
                    stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1">
                    <line x1="19" y1="12" x2="5" y2="12"></line>
                    <polyline points="12 19 5 12 12 5"></polyline>
                </svg>
            </a>
            <p class="font-semibold text-sm">Detail Laporan</p>
        </div>
    </div>
@endsection
@section('dashboard_content')
    <div class="h-screen relative">
        <div data-te-modal-init
            class="fixed left-0 top-10 z-[1000] hidden h-full w-full overflow-y-auto overflow-x-hidden outline-none"
            id="exampleModalSm" tabindex="-1" aria-labelledby="exampleModalSmLabel" aria-modal="true" role="dialog">
            <div data-te-modal-dialog-ref
                class="mx-4 pointer-events-none relative w-auto translate-y-[-50px] opacity-0 transition-all duration-300 ease-in-out min-[576px]:mx-auto min-[576px]:mt-7 min-[576px]:max-w-[300px]">
                <div
                    class="pointer-events-auto relative flex w-full flex-col rounded-md border-none bg-white bg-clip-padding text-current shadow-lg outline-none dark:bg-neutral-600">
                    <div
                        class="flex flex-shrink-0 items-center justify-between rounded-t-md border-b-2 border-neutral-100 border-opacity-100 p-4 dark:border-opacity-50">
                        <!--Modal title-->
                        <h5 class="text-xl font-medium leading-normal text-neutral-800 dark:text-neutral-200"
                            id="exampleModalSmLabel1">
                            Konfirmasi
                        </h5>
                        <!--Close button-->
                        <button type="button"
                            class="box-content rounded-none border-none hover:no-underline hover:opacity-75 focus:opacity-100 focus:shadow-none focus:outline-none"
                            data-te-modal-dismiss aria-label="Close">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="h-6 w-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>

                    <!--Modal body-->
                    <div class="relative p-4">
                        <p class="text-sm font-normal">
                            @if ($report->report_status == "pending")
                                Apakah Anda ingin menolak laporan ini ?
                            @else 
                                Apakah Anda ingin membatalkan proses laporan ini ?
                            @endif
                        </p>
                        <div class="flex mt-2 rounded-lg">
                            <button type="button"
                                class="mr-2 rounded-lg py-2 w-1/2 bg-red-600 text-white box-content border-none hover:no-underline hover:opacity-75 focus:opacity-100 focus:shadow-none focus:outline-none"
                                data-te-modal-dismiss aria-label="Close">
                                Tidak
                            </button>
                            <button type="button"
                                class="ml-2 rounded-lg py-2 w-1/2 bg-green-600 text-white box-content border-none hover:no-underline hover:opacity-75 focus:opacity-100 focus:shadow-none focus:outline-none"
                                onclick="actionReport('{{$report->report_status == 'pending' ? 'ditolak' : 'dibatalkan'}}')">
                                Ya
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="modalLogout" style="transition: 500ms" class="w-full fixed z-[10000] left-0 bottom-0 flex justify-center">
            <div class="p-4 flex flex-col items-center justify-center w-[600px] md:w-[500px]">
                <div class="w-full bg-white shadow border-2 rounded-xl relative">
                    <div class="flex justify-center w-full">
                        <div class="absolute top-[-25px]">
                            <svg id="btnClose" onclick="showDetail(false);" style="display: none"
                                class="cursor-pointer fill-[#FE5D26] stroke-white hidden" viewBox="0 0 24 24" width="50"
                                height="50" stroke="currentColor" stroke-width="1.5" fill="none"
                                stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="16 12 12 8 8 12"></polyline>
                                <line x1="12" y1="16" x2="12" y2="8"></line>
                            </svg>
                            <svg id="btnShow" onclick="showDetail(true);"
                                class="cursor-pointer fill-[#FE5D26] stroke-white" viewBox="0 0 24 24" width="50"
                                height="50" stroke="currentColor" stroke-width="1.5" fill="none"
                                stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="8 12 12 16 16 12"></polyline>
                                <line x1="12" y1="8" x2="12" y2="16"></line>
                            </svg>
                        </div>
                    </div>
                    <div class="p-4 grid grid-cols-4 flex items-center">
                        <div class="col-span-1 flex items-center justify-center">
                            <div
                                class="pt-1 px-1 bg-[#FFDFD4] rounded-[20px] flex justify-center border-2 border-[#FFBEA8]">
                                <svg xmlns="http://www.w3.org/2000/svg" width="86" height="100"
                                    viewBox="0 0 96 88" fill="none">
                                    <path
                                        d="M18.6789 90.877C18.6789 90.877 16.5823 72.4971 34.6429 70.4466H42.3711V66.8864C42.3711 66.8864 47.8074 69.2214 53.3122 67.1469L53.4859 70.4466H62.5166C62.5166 70.4466 78.2431 72.0166 77.292 90.877H18.6789Z"
                                        fill="#1D1D1D" />
                                    <path
                                        d="M77.1423 91.2H19.2382H18.1152L18.3955 86.4113C18.9429 77.0612 26.3097 69.9256 34.74 69.9256H41.1559V70.8808H35.2518C27.1267 70.8808 20.0266 77.7492 19.4991 86.7491L19.3044 90.0712H76.9893L76.8814 86.7491C76.3539 77.7492 69.2538 70.8808 61.1287 70.8808H53.2259V69.9256H61.589C70.0193 69.9256 77.3862 77.0612 77.9335 86.4113L78.2138 91.2H77.1423Z"
                                        fill="#1D1D1D" />
                                    <path
                                        d="M43.2398 66.4847V71.8403C43.2398 74.6194 45.4946 76.8724 48.2762 76.8724C51.0577 76.8724 53.3125 74.6194 53.3125 71.8403V66.5952C53.6048 66.5062 53.8944 66.4096 54.1809 66.3052V71.8768C54.1809 75.1633 51.5178 77.8275 48.2327 77.8275C44.9477 77.8275 42.2846 75.1633 42.2846 71.8768V66.1403C42.5992 66.2647 42.9178 66.3791 43.2398 66.4847ZM42.2412 76.7855C42.5529 76.7855 42.8056 77.0382 42.8056 77.35V85.8597C42.8056 86.1714 42.5529 86.4241 42.2412 86.4241C41.9295 86.4241 41.6768 86.1714 41.6768 85.8597V77.35C41.6768 77.0382 41.9295 76.7855 42.2412 76.7855ZM54.094 76.6987C54.4297 76.6987 54.7019 76.9708 54.7019 77.3065V82.6034C54.7019 82.9391 54.4297 83.2113 54.094 83.2113C53.7583 83.2113 53.4862 82.9391 53.4862 82.6034V77.3065C53.4862 76.9708 53.7583 76.6987 54.094 76.6987Z"
                                        fill="#777777" />
                                    <path
                                        d="M42.2414 85.8163C42.4093 85.8163 42.5453 85.9523 42.5453 86.1202V88.291C42.5453 88.4589 42.4093 88.595 42.2414 88.595C42.0736 88.595 41.9375 88.4589 41.9375 88.291V86.1202C41.9375 85.9523 42.0736 85.8163 42.2414 85.8163ZM54.1377 82.6034C54.3056 82.6034 54.4416 82.7395 54.4416 82.9073V85.0782C54.4416 85.246 54.3056 85.3821 54.1377 85.3821C53.9698 85.3821 53.8338 85.246 53.8338 85.0782V82.9073C53.8338 82.7395 53.9698 82.6034 54.1377 82.6034Z"
                                        fill="#DFE0E0" />
                                    <path
                                        d="M38.983 64.3478L33.4832 65.6106C33.4832 65.6106 26.7482 67.1362 31.229 71.6754C35.7099 76.2145 47.2339 77.0162 47.2339 77.0162C47.2339 77.0162 44.1869 75.573 42.8922 73.5428L42.458 66.2487L38.983 64.3478Z"
                                        fill="white" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M47.4076 77.4503C47.0664 77.8823 37.4705 77.5853 30.8223 71.8061C26.0086 67.6217 33.2536 65.2067 33.2536 65.2067L38.5505 63.9911L43.1527 66.3356L43.5001 73.3691C45.4375 76.4069 47.957 76.755 47.4076 77.4503ZM42.6317 73.7165L42.1107 66.3356L39.332 64.7726L34.0352 66.0751C34.0352 66.0751 27.6193 67.3907 31.6906 71.1983C36.0844 75.3074 44.2127 76.4102 45.0631 76.3215C45.9445 76.2296 44.5691 76.7543 42.6317 73.7165Z"
                                        fill="#777777" />
                                    <path
                                        d="M57.5633 64.5523L63.0664 65.819C63.0664 65.819 69.8054 67.3491 65.3219 71.9019C60.8385 76.4546 49.3076 77.2587 49.3076 77.2587C49.3076 77.2587 52.3564 75.8112 53.6519 73.7749L54.0863 66.459L57.5633 64.5523Z"
                                        fill="white" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M49.1338 77.6073C49.4752 78.0405 59.0767 77.7427 65.7289 71.9462C70.5455 67.7492 63.2961 65.3271 63.2961 65.3271L57.9961 64.1077L53.3912 66.4593L53.0436 73.5139C51.1051 76.5608 48.5841 76.9099 49.1338 77.6073ZM53.9125 73.8623L54.4338 66.4593L57.2141 64.8916L62.5142 66.198C62.5142 66.198 68.9339 67.5176 64.8601 71.3366C60.4637 75.458 52.3306 76.564 51.4797 76.4751C50.5978 76.3829 51.974 76.9092 53.9125 73.8623Z"
                                        fill="#777777" />
                                    <path
                                        d="M48.6399 12.0072C59.4422 12.0072 67.9684 22.102 67.6912 34.231L67.3965 47.122C67.1354 58.5488 58.7406 67.5811 48.6399 67.5811C38.5392 67.5811 30.1444 58.5488 29.8833 47.122L29.5886 34.231C29.3114 22.102 37.8376 12.0072 48.6399 12.0072Z"
                                        fill="white" />
                                    <path
                                        d="M38.9576 43.1807C40.6361 43.1807 41.9968 43.277 41.9968 45.1779C41.9968 47.1386 40.6361 47.1751 38.9576 47.1751C37.2791 47.1751 35.9185 46.818 35.9185 45.1779C35.9185 43.262 37.2791 43.1807 38.9576 43.1807ZM59.1032 43.1807C60.7817 43.1807 62.1424 43.277 62.1424 45.1779C62.1424 47.1386 60.7817 47.1751 59.1032 47.1751C57.4247 47.1751 56.064 46.818 56.064 45.1779C56.064 43.262 57.4247 43.1807 59.1032 43.1807Z"
                                        fill="#DFE0E0" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M68.5596 33.8313L68.2508 47.2461C67.9772 59.1371 59.1809 68.5363 48.597 68.5363C38.0131 68.5363 29.2168 59.1371 28.9431 47.2461L28.6343 33.8313C28.3438 21.2095 37.278 10.7047 48.597 10.7047C59.916 10.7047 68.8501 21.2095 68.5596 33.8313ZM48.5536 12.0941C37.899 12.0941 29.4893 22.1099 29.7627 34.1442L30.0534 46.9345C30.311 58.272 38.591 67.2338 48.5536 67.2338C58.5162 67.2338 66.7962 58.272 67.0538 46.9345L67.3444 34.1442C67.6179 22.1099 59.2082 12.0941 48.5536 12.0941Z"
                                        fill="#1D1D1D" />
                                    <path
                                        d="M57.9746 54.9208C56.3963 56.2913 52.8313 57.5952 48.6834 57.5952C44.5354 57.5952 40.9704 56.2913 39.3921 54.9208C39.3921 54.9208 39.2306 54.4765 39.4676 54.2395C39.7089 53.9982 40.0868 54.0507 40.0868 54.0507C41.6635 55.4221 44.5338 56.5532 48.6834 56.5532C52.8329 56.5532 55.7033 55.4221 57.2799 54.0507C57.2799 54.0507 57.6656 53.9075 57.853 54.0948C58.2138 54.4557 57.9746 54.9208 57.9746 54.9208ZM45.8178 59.6792H51.3752V60.5475H45.8178V59.6792Z"
                                        fill="#1D1D1D" />
                                    <path
                                        d="M28.6127 35.7875C28.6103 35.7877 28.3995 35.6193 28.0014 35.494C27.8024 35.4315 27.5552 35.38 27.2733 35.3673C27.2029 35.3642 27.1305 35.3634 27.0564 35.3655C26.9822 35.3676 26.9064 35.3726 26.8294 35.3808C26.6753 35.3973 26.5161 35.4269 26.3559 35.4729C25.7146 35.6572 25.0604 36.1053 24.6762 37.0302C24.4833 37.4927 24.3561 38.0744 24.3224 38.8022C24.314 38.9842 24.3114 39.1752 24.3151 39.3759C24.3188 39.5765 24.3288 39.7867 24.3454 40.0069C24.3787 40.4472 24.4387 40.9274 24.5282 41.4507C24.5263 41.4502 24.4448 43.0321 25.0103 44.8497C25.5419 46.6268 26.8185 48.8098 29.1756 49.4336C28.9045 44.9198 28.8961 40.3212 28.6127 35.7875Z"
                                        fill="white" />
                                    <path
                                        d="M28.8811 35.9695C28.8811 35.9695 24.7748 34.6972 24.9193 38.9186C24.9193 38.9186 25.5307 45.0399 25.7962 45.6041C25.7962 45.6041 27.4088 49.1681 30.0702 49.326L30.1025 50.4748C30.1025 50.4748 25.4248 49.875 24.5213 44.4843L23.8082 39.5871C23.8082 39.5871 23.2545 33.1062 28.6253 34.754L28.8811 35.9695Z"
                                        fill="#1D1D1D" />
                                    <path
                                        d="M27.5259 44.474C27.5259 44.474 27.2961 44.6477 27.0987 44.6477C26.9013 44.6477 26.6743 44.474 26.6743 44.474L26.2505 40.2037C26.2505 40.2037 26.8352 38.1006 29.3162 39.212L29.3749 40.4331C29.3749 40.4331 27.1981 39.6611 27.2431 40.6224C27.2865 41.5477 27.5259 44.474 27.5259 44.474Z"
                                        fill="#1D1D1D" />
                                    <path
                                        d="M68.5034 35.7975C68.5058 35.7977 68.7176 35.6294 69.1174 35.5042C69.3172 35.4417 69.5656 35.3903 69.8486 35.3776C69.9193 35.3745 69.9921 35.3737 70.0665 35.3758C70.141 35.3779 70.2171 35.3829 70.2945 35.3911C70.4493 35.4075 70.6092 35.4371 70.7701 35.4831C71.4142 35.6673 72.0713 36.1151 72.4572 37.0394C72.6509 37.5015 72.7787 38.0828 72.8125 38.8101C72.8209 38.992 72.8235 39.1829 72.8198 39.3834C72.8161 39.584 72.8061 39.794 72.7894 40.014C72.756 40.454 72.6956 40.9339 72.6058 41.4569C72.6077 41.4564 72.6896 43.0371 72.1216 44.8535C71.5876 46.6294 70.3054 48.811 67.938 49.4344C68.2103 44.9235 68.2187 40.3282 68.5034 35.7975Z"
                                        fill="white" />
                                    <path
                                        d="M68.2324 35.9794C68.2324 35.9794 72.3567 34.7079 72.2115 38.9265C72.2115 38.9265 71.5975 45.0436 71.3309 45.6074C71.3309 45.6074 69.7112 49.169 67.0381 49.3268L67.0056 50.4748C67.0056 50.4748 71.7039 49.8754 72.6113 44.4884L73.3276 39.5945C73.3276 39.5945 73.8837 33.118 68.4893 34.7647L68.2324 35.9794Z"
                                        fill="#1D1D1D" />
                                    <path
                                        d="M69.5939 44.4781C69.5939 44.4781 69.8247 44.6516 70.023 44.6516C70.2213 44.6516 70.4493 44.4781 70.4493 44.4781L70.8749 40.2106C70.8749 40.2106 70.2876 38.109 67.7957 39.2196L67.7368 40.4398C67.7368 40.4398 69.9231 39.6684 69.8779 40.629C69.8344 41.5537 69.5939 44.4781 69.5939 44.4781Z"
                                        fill="#1D1D1D" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M50.203 44.1359C50.3043 44.1359 50.4056 44.1359 50.5069 44.1359C51.1352 44.9892 51.3909 46.3006 51.7226 47.4356C51.8254 47.7873 51.7256 48.4026 51.6357 48.6513C51.3065 49.5621 50.2726 49.5458 49.4215 49.9538C49.1929 50.0634 49.0228 50.2525 48.7268 50.3011C48.5338 50.1311 48.3008 50.0977 48.2058 49.8235C47.9713 49.5006 48.2735 49.2989 48.5097 49.1723C48.9384 48.9424 50.2616 48.7158 50.4201 48.3039C50.6161 48.0809 50.4857 47.4104 50.4201 47.1751C50.2518 46.5722 50.1711 46.0689 49.9425 45.5252C49.7906 45.1641 49.524 44.7833 49.682 44.353C49.8129 44.2968 50.0958 44.2329 50.203 44.1359Z"
                                        fill="#1D1D1D" />
                                    <path
                                        d="M37.5686 38.0054H40.6946C41.1263 38.0054 41.4762 38.4253 41.4762 38.9432C41.4762 39.4611 41.1263 39.881 40.6946 39.881H37.5686C37.137 39.881 36.7871 39.4611 36.7871 38.9432C36.7871 38.4253 37.137 38.0054 37.5686 38.0054ZM56.6721 37.797H59.7982C60.2298 37.797 60.5797 38.2169 60.5797 38.7348C60.5797 39.2528 60.2298 39.6726 59.7982 39.6726H56.6721C56.2405 39.6726 55.8906 39.2528 55.8906 38.7348C55.8906 38.2169 56.2405 37.797 56.6721 37.797Z"
                                        fill="#1D1D1D" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M67.5111 34.8852C67.3936 35.8886 67.2904 37.1163 67.0735 38.214C66.4248 41.4965 63.6043 44.5376 58.7883 44.8841C53.9723 45.2306 49.8734 42.8061 49.6332 39.4689C49.5925 38.903 49.4836 38.268 49.4 37.6507C48.7184 37.2728 48.0159 37.272 47.2926 37.6481C47.2081 38.2794 47.0951 38.9311 47.0534 39.5105C46.8124 42.8588 42.7006 45.2914 37.8694 44.9437C33.0383 44.5961 30.2089 41.5448 29.5581 38.2515C29.3405 37.1502 29.237 35.9183 29.1191 34.9117L28.4092 34.8606L28.5089 33.4748L28.6821 33.4873L33.0758 33.8035L36.7845 34.0704L40.5001 34.3377L46.2875 34.7542C46.6866 34.8047 46.952 34.9759 47.1229 35.2314C47.9541 35.5952 48.7613 35.5967 49.5445 35.2357C49.7139 34.9637 49.9828 34.7806 50.3967 34.7283L56.1659 34.3132L59.8698 34.0467L63.5669 33.7807L67.9467 33.4656L68.1194 33.4531L68.2188 34.8343L67.5111 34.8852ZM44.7334 36.3827L33.3911 35.5664C31.9076 35.4386 31.3817 37.1056 31.2903 38.3762C31.0975 41.0548 34.0822 43.4524 37.9567 43.7312C41.8312 44.01 45.1284 42.0645 45.3212 39.3858C45.4126 38.1153 45.8276 37.3306 44.7334 36.3827ZM65.3467 38.3383C65.2556 37.0719 64.7314 35.4104 63.2526 35.5378L51.9459 36.3513C50.8552 37.2962 51.2689 38.0783 51.36 39.3446C51.5521 42.0144 54.839 43.9535 58.7013 43.6756C62.5636 43.3977 65.5389 41.0081 65.3467 38.3383Z"
                                        fill="#1D1D1D" />
                                    <path
                                        d="M29.2116 35.0183C29.2116 35.0183 29.8816 24.5582 36.3367 19.9092C36.3367 19.9092 45.6572 26.2494 60.3187 19.9092C60.3187 19.9092 66.8037 22.8629 67.7914 35.0183H68.1395C68.1395 35.0183 69.9963 21.095 65.1847 15.5674C65.1847 15.5674 63.9994 11.3343 57.712 8.27338L55.4528 9.66273C55.4528 9.66273 53.9349 7.80529 49.8918 5.49469C49.8918 5.49469 46.9015 6.82705 45.3734 9.14172L42.9405 7.57871C42.9405 7.57871 39.5408 9.13494 37.5532 11.9204L33.9038 12.4414L31.9921 15.9148C31.9921 15.9148 27.4291 19.591 28.8635 34.671L29.2116 35.0183Z"
                                        fill="#1D1D1D" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M68.8342 35.0183L67.1836 34.9315C66.1959 22.776 60.3187 20.6038 60.3187 20.6038C45.6572 26.9441 36.3367 20.517 36.3367 20.517C30.6986 25.3268 29.8195 35.1051 29.8195 35.1051L28.3425 34.6709C26.9081 19.591 31.4711 15.6543 31.4711 15.6543L33.5564 11.8336L37.3795 11.3126C39.3672 8.52708 43.0273 6.79718 43.0273 6.79718L45.2968 8.27336C46.8249 5.95869 49.9858 4.8 49.9858 4.8C54.029 7.1106 55.5432 8.8812 55.5432 8.8812L57.8857 7.57869C64.1731 10.6396 65.8793 15.4806 65.8793 15.4806C70.6909 21.0081 68.8342 35.0183 68.8342 35.0183ZM64.7476 15.8279C64.7476 15.8279 64.0015 12.0289 57.7141 8.96804L55.3695 10.3574C55.3695 10.3574 53.8553 8.49994 49.8122 6.18934C49.8122 6.18934 47.0854 7.60854 45.5573 9.92321L42.9523 8.27336C42.9523 8.27336 39.8167 9.74276 37.829 12.5282L34.3557 13.0492L32.5322 16.3489C32.5322 16.3489 28.7447 19.2418 29.1456 30.9371L29.2325 30.8502C29.2325 30.8502 30.4375 23.5804 36.3367 19.1276C36.3367 19.1276 45.9177 25.6416 60.5793 19.3013C60.5793 19.3013 65.9959 21.8487 67.8737 30.9371C67.8737 30.9371 68.9883 21.5893 64.7476 15.8279Z"
                                        fill="#1D1D1D" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M48.8281 9.40349C48.9558 9.49853 48.8926 9.58647 48.8648 9.70531C48.8235 9.88261 48.7744 10.0581 48.7467 10.235C48.7048 10.5031 48.6666 10.7715 48.6556 11.036C48.6464 11.2584 48.6504 11.48 48.6542 11.7003C48.6565 11.8275 48.6782 11.9544 48.6814 12.0818C48.6826 12.1326 48.6965 12.1836 48.6979 12.2353C48.701 12.2494 48.7041 12.2634 48.7072 12.2775C48.7091 12.3425 48.7261 12.4045 48.7279 12.4694C48.7385 12.5281 48.7491 12.5869 48.7597 12.6456C48.7753 12.7387 48.7829 12.8359 48.8114 12.9266C48.8145 12.9498 48.8176 12.973 48.8207 12.9963C48.8433 13.0683 48.8507 13.1427 48.8735 13.215C48.8751 13.2293 48.8767 13.2436 48.8784 13.2579C48.9114 13.3621 48.9262 13.4718 48.9591 13.5754C49.0126 13.7436 49.056 13.9126 49.115 14.0804C49.154 14.1917 49.1877 14.3083 49.2271 14.4203C49.2971 14.6196 49.3825 14.8143 49.4594 15.0114C49.5062 15.1314 49.569 15.2423 49.6192 15.3618C49.7612 15.7 49.9436 16.0323 50.118 16.3638C50.1744 16.4709 50.2363 16.5694 50.2987 16.674C50.3386 16.7407 50.3799 16.8155 50.4167 16.8842C50.437 16.9223 50.4625 16.9509 50.4846 16.9879C50.5326 17.0679 50.5845 17.154 50.6317 17.2347C50.6753 17.3093 50.7246 17.373 50.7728 17.4457C50.8247 17.524 50.8761 17.6123 50.9288 17.691C51.0203 17.8278 51.1173 17.96 51.2079 18.0951C51.3021 18.2355 51.4079 18.3598 51.5076 18.4982C51.7008 18.7663 51.9266 19.0236 52.1349 19.2928C52.1972 19.3733 52.2718 19.4438 52.3341 19.5217C52.3652 19.5606 52.4172 19.5946 52.4382 19.6355C52.4468 19.6521 52.4517 19.6777 52.4577 19.6966C52.4673 19.7269 52.4648 19.7643 52.4652 19.7964C52.4659 19.8478 52.4684 19.8999 52.4594 19.9537C52.45 20.0094 52.4146 20.0707 52.3916 20.1257C52.3732 20.1699 52.3272 20.2088 52.3011 20.2303C52.2792 20.2484 52.2702 20.2653 52.2479 20.2828C52.1898 20.3285 52.124 20.366 52.0604 20.3851C51.9945 20.4049 51.9092 20.3457 51.8572 20.2832C51.766 20.1739 51.6521 20.0736 51.5646 19.964C51.5459 19.9405 51.5252 19.9301 51.5068 19.9069C51.4058 19.7792 51.2819 19.6589 51.1822 19.5333C51.1594 19.5046 51.1345 19.4885 51.1124 19.4598C51.0349 19.359 50.9441 19.2681 50.8654 19.1652C50.6682 18.9074 50.4556 18.6583 50.2773 18.3986C50.2356 18.3379 50.1909 18.29 50.15 18.229C49.8612 17.7975 49.5715 17.3735 49.3401 16.9338C49.2792 16.8181 49.2119 16.7129 49.1549 16.5968C48.9931 16.2672 48.8422 15.9378 48.7038 15.6053C48.6856 15.5617 48.6724 15.5128 48.6556 15.4686C48.5798 15.269 48.5111 15.0719 48.443 14.8718C48.3743 14.6701 48.3353 14.4592 48.2711 14.2569C48.2575 14.2143 48.2534 14.168 48.2397 14.1243C48.2378 14.1085 48.2359 14.0927 48.234 14.0769C48.2191 14.0295 48.2175 13.979 48.203 13.9327C48.1681 13.8216 48.1573 13.7015 48.1382 13.5873C48.1202 13.4795 48.0955 13.3693 48.0925 13.2593C48.0884 13.2394 48.0843 13.2193 48.0801 13.1993C48.0782 13.128 48.0601 13.0574 48.0584 12.987C48.0553 12.864 48.0358 12.7415 48.0335 12.6188C48.0306 12.4663 48.0248 12.3132 48.0257 12.1605C48.0266 12.0077 48.0392 11.8583 48.0481 11.7042C48.0719 11.2866 48.1483 10.867 48.2492 10.4346C48.2857 10.2777 48.3444 10.1243 48.3938 9.96715C48.4279 9.85891 48.4814 9.75462 48.5196 9.6476C48.5296 9.61967 48.545 9.60307 48.5557 9.57498C48.5786 9.51462 48.6086 9.44035 48.6644 9.40072C48.6894 9.38299 48.7468 9.3735 48.7762 9.3822C48.7967 9.38826 48.8097 9.404 48.8281 9.40349ZM44.753 12.3969C44.8455 12.4638 44.8382 12.5618 44.8404 12.6444C44.8427 12.73 44.8673 12.8152 44.8697 12.9015C44.8797 12.9611 44.8897 13.0208 44.8997 13.0804C44.901 13.1287 44.9131 13.1745 44.921 13.2216C44.9292 13.2702 44.9327 13.3191 44.9476 13.3666C44.9566 13.4202 44.9656 13.4739 44.9746 13.5275C44.9894 13.5748 44.9911 13.6253 45.0056 13.6718C45.0507 13.8154 45.0679 13.9677 45.1137 14.1111C45.1623 14.2632 45.1978 14.4204 45.2505 14.571C45.3196 14.7684 45.3872 14.9671 45.4623 15.1633C45.5007 15.2636 45.5465 15.3574 45.5874 15.4574C45.6188 15.5338 45.6485 15.6171 45.6842 15.6918C45.8322 16.0021 45.9851 16.3121 46.1479 16.6215C46.2768 16.8664 46.4307 17.1002 46.5719 17.3417C46.6155 17.4162 46.6647 17.4802 46.713 17.5527C46.822 17.7164 46.938 17.8867 47.0497 18.0531C47.1552 18.2104 47.282 18.3569 47.393 18.5109C47.4111 18.5361 47.4321 18.5497 47.4497 18.5751C47.506 18.6563 47.5796 18.7345 47.6415 18.8145C47.6726 18.8546 47.7121 18.8825 47.7404 18.9245C47.8024 19.0162 47.841 19.1874 47.8115 19.2941C47.7603 19.479 47.5819 19.6035 47.4461 19.6511C47.4051 19.6654 47.3411 19.6914 47.2966 19.6781C47.2264 19.6571 47.1816 19.5947 47.1406 19.5431C47.0877 19.4764 47.0259 19.428 46.9746 19.3615C46.8798 19.2385 46.7683 19.1287 46.6735 19.0046C46.475 18.7449 46.2717 18.4937 46.0954 18.2295C45.6873 17.6177 45.3486 17.0001 45.0845 16.3656C44.9748 16.1022 44.8866 15.8306 44.7983 15.5628C44.7669 15.4674 44.7497 15.3654 44.7194 15.2702C44.678 15.1398 44.6595 15.0052 44.6188 14.8756C44.6167 14.8583 44.6146 14.841 44.6124 14.8238C44.6058 14.7948 44.596 14.7669 44.5911 14.7377C44.5878 14.713 44.5844 14.6882 44.581 14.6635C44.5657 14.6146 44.5621 14.5641 44.5537 14.5141C44.5455 14.4655 44.5329 14.4181 44.5316 14.3684C44.5255 14.3365 44.5194 14.3045 44.5132 14.2726C44.5096 14.1424 44.4783 14.0148 44.4757 13.8836C44.475 13.8527 44.4652 13.8199 44.4644 13.789C44.4614 13.6635 44.449 13.5377 44.4496 13.4123C44.4503 13.2694 44.4489 13.1241 44.4578 12.9812C44.4613 12.9249 44.4712 12.8718 44.4737 12.8154C44.4765 12.7535 44.4874 12.6943 44.4956 12.6303C44.5004 12.5923 44.5005 12.5464 44.5119 12.5081C44.5235 12.4691 44.5633 12.4062 44.6002 12.3901C44.6253 12.3791 44.6737 12.3681 44.7012 12.3756C44.7218 12.3813 44.7345 12.3974 44.753 12.3969ZM41.6391 13.0459C41.7431 13.1221 41.7142 13.2183 41.7135 13.3116C41.7124 13.4618 41.7276 13.6118 41.7314 13.7613C41.7344 13.8806 41.7649 13.999 41.7682 14.1183C41.7753 14.1562 41.7824 14.1941 41.7895 14.232C41.7913 14.2981 41.8056 14.3835 41.8255 14.4466C41.8273 14.4624 41.8292 14.4782 41.8311 14.4939C41.8372 14.5305 41.8449 14.5666 41.8562 14.6024C41.8588 14.6226 41.8614 14.6429 41.864 14.6631C41.8908 14.7484 41.899 14.8396 41.9261 14.924C41.991 15.1259 42.0425 15.3324 42.1134 15.5341C42.2669 15.9712 42.4773 16.3948 42.7011 16.8201C42.7743 16.959 42.8653 17.0883 42.9393 17.2264C42.9708 17.2853 43.0122 17.3331 43.0471 17.3901C43.1427 17.5459 43.2534 17.7013 43.3573 17.8557C43.5011 18.0694 43.6762 18.2643 43.829 18.4762C43.8825 18.5504 43.9501 18.6149 44.0021 18.6865C44.0484 18.7501 44.1082 18.7979 44.1577 18.8606C44.2558 18.9849 44.3794 19.1032 44.4834 19.2272C44.5435 19.2987 44.6149 19.3565 44.673 19.4256C44.7379 19.5028 44.8195 19.5645 44.8834 19.6389C44.8996 19.6531 44.9157 19.6672 44.9319 19.6814C44.9971 19.7586 45.0881 19.8269 45.1554 19.9041C45.1841 19.937 45.2181 19.9524 45.2471 19.9854C45.3415 20.0926 45.4745 20.1796 45.5713 20.2878C45.599 20.3188 45.6358 20.3397 45.6605 20.3673C45.6709 20.3748 45.6814 20.3822 45.6918 20.3897C45.7253 20.4269 45.7773 20.461 45.8112 20.4986C45.8225 20.5067 45.8338 20.5148 45.8452 20.5228C45.9005 20.5843 45.9859 20.633 46.0418 20.6948C46.0566 20.7054 46.0713 20.7159 46.0861 20.7265C46.1574 20.8053 46.2704 20.8617 46.3428 20.9414C46.3752 20.9659 46.4077 20.9904 46.4402 21.0149C46.456 21.0323 46.4902 21.0474 46.5088 21.0678C46.558 21.122 46.6411 21.1646 46.6946 21.2163C46.7262 21.2469 46.7757 21.2679 46.8024 21.2973C46.8259 21.3231 46.8685 21.3404 46.8893 21.3633C46.9572 21.4118 47.025 21.4603 47.0929 21.5088C47.2536 21.6236 47.4137 21.7312 47.5693 21.8412C47.6429 21.8933 47.7343 21.9343 47.7796 21.9994C47.8053 22.0362 47.8155 22.089 47.8289 22.1291C47.8592 22.2194 47.8717 22.3266 47.8463 22.425C47.8386 22.4549 47.823 22.4751 47.8117 22.5065C47.7937 22.5568 47.7637 22.6348 47.7101 22.6819C47.6752 22.7126 47.6388 22.7539 47.6002 22.7805C47.5406 22.8216 47.4756 22.7997 47.4029 22.7695C47.3797 22.7542 47.3564 22.7389 47.3332 22.7236C47.2217 22.6758 47.1176 22.5734 47.0057 22.5251C46.9842 22.5158 46.9616 22.4925 46.9438 22.4848C46.9066 22.4596 46.8695 22.4343 46.8323 22.4091C46.7914 22.3914 46.7546 22.3484 46.7085 22.3285C46.6698 22.3118 46.6304 22.2805 46.5925 22.2535C46.5785 22.2435 46.5646 22.2336 46.5507 22.2236C46.5134 22.2075 46.4694 22.1734 46.4347 22.1486C46.3842 22.1126 46.3337 22.0765 46.2832 22.0404C46.229 22.0169 46.1689 21.9627 46.1169 21.9255C46.0738 21.8947 46.0154 21.8615 45.983 21.8259C45.9534 21.8048 45.9238 21.7836 45.8942 21.7625C45.8324 21.7183 45.7715 21.6748 45.7178 21.6285C45.6882 21.6074 45.6586 21.5863 45.629 21.5651C45.5861 21.5178 45.5118 21.4821 45.4693 21.4353C45.4493 21.421 45.4293 21.4067 45.4093 21.3924C45.3782 21.3581 45.3247 21.3281 45.294 21.2943C45.2766 21.2819 45.2592 21.2694 45.2418 21.257C45.2182 21.2309 45.1762 21.2036 45.1526 21.1775C45.1387 21.1676 45.1248 21.1576 45.1108 21.1477C45.0293 21.0572 44.9099 20.9889 44.8303 20.9C44.8054 20.8796 44.7806 20.8592 44.7557 20.8388C44.6528 20.7231 44.5137 20.6302 44.4143 20.5162C44.3873 20.4852 44.3569 20.4713 44.3304 20.4405C44.2386 20.3339 44.1214 20.2388 44.033 20.1336C44.0185 20.1162 44.0043 20.1122 43.9898 20.0948C43.9481 20.0448 43.8943 19.9932 43.854 19.9427C43.8352 19.9191 43.8148 19.9092 43.7961 19.8856C43.6563 19.7092 43.492 19.5517 43.3566 19.3747C43.1168 19.0613 42.8666 18.7554 42.677 18.4326C42.6341 18.3594 42.5828 18.2982 42.5411 18.2253C42.4673 18.0962 42.3869 17.969 42.3175 17.8372C42.209 17.6309 42.1075 17.4229 42.0087 17.2151C41.9393 17.0689 41.8843 16.9116 41.8272 16.7626C41.7804 16.6402 41.7357 16.5212 41.6927 16.3988C41.6504 16.2783 41.6201 16.153 41.5806 16.0313C41.5404 15.9076 41.524 15.7763 41.4849 15.6519C41.47 15.6047 41.4716 15.5451 41.4568 15.498C41.4204 15.382 41.4116 15.2559 41.3917 15.1366C41.3064 14.6274 41.2976 14.106 41.3349 13.5765C41.3436 13.4543 41.369 13.3386 41.3891 13.2137C41.3983 13.1568 41.4169 13.0845 41.4799 13.0424C41.5 13.029 41.5639 13.0184 41.5873 13.0246C41.6065 13.0297 41.6215 13.0463 41.6391 13.0459Z"
                                        fill="#1D1D1D" />
                                </svg>
                            </div>
                        </div>
                        <div class="col-span-3">
                            <div class="px-4 py-2">
                                <p class="font-light text-xs">Pelapor</p>
                                <p class="font-semibold text-sm">{{ $report->user->name }}</p>
                                <div class="mt-2 grid grid-cols-2">
                                    <p class="my-1 font-light text-xs flex col-span-1">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                            viewBox="0 0 16 16" fill="none">
                                            <path
                                                d="M7.99984 7.2C8.26355 7.2 8.52133 7.1218 8.7406 6.97529C8.95986 6.82878 9.13076 6.62055 9.23168 6.37691C9.33259 6.13328 9.359 5.86519 9.30755 5.60655C9.2561 5.3479 9.12912 5.11033 8.94265 4.92386C8.75618 4.73739 8.5186 4.6104 8.25996 4.55895C8.00132 4.50751 7.73323 4.53391 7.48959 4.63483C7.24596 4.73574 7.03772 4.90664 6.89121 5.12591C6.7447 5.34517 6.6665 5.60296 6.6665 5.86667C6.6665 6.22029 6.80698 6.55943 7.05703 6.80948C7.30708 7.05952 7.64621 7.2 7.99984 7.2ZM7.5265 11.8067C7.58848 11.8692 7.66221 11.9187 7.74345 11.9526C7.82469 11.9864 7.91183 12.0039 7.99984 12.0039C8.08784 12.0039 8.17498 11.9864 8.25622 11.9526C8.33746 11.9187 8.41119 11.8692 8.47317 11.8067L11.1998 9.07333C11.8331 8.44036 12.2645 7.63379 12.4394 6.75564C12.6142 5.87749 12.5247 4.9672 12.1822 4.13993C11.8396 3.31265 11.2594 2.60554 10.515 2.10804C9.77051 1.61054 8.89523 1.34499 7.99984 1.34499C7.10445 1.34499 6.22917 1.61054 5.48471 2.10804C4.74025 2.60554 4.16006 3.31265 3.81752 4.13993C3.47497 4.9672 3.38547 5.87749 3.56032 6.75564C3.73518 7.63379 4.16653 8.44036 4.79984 9.07333L7.5265 11.8067ZM4.81984 5.56C4.86539 5.08468 5.01652 4.62553 5.26219 4.21608C5.50786 3.80662 5.84187 3.45721 6.23984 3.19333C6.76264 2.85007 7.37441 2.66717 7.99984 2.66717C8.62526 2.66717 9.23703 2.85007 9.75984 3.19333C10.1551 3.4563 10.4873 3.8036 10.7323 4.21026C10.9774 4.61691 11.1293 5.07282 11.1771 5.54519C11.2249 6.01756 11.1674 6.49466 11.0088 6.94217C10.8502 7.38968 10.5944 7.79649 10.2598 8.13333L7.99984 10.3933L5.73984 8.13333C5.40485 7.79976 5.14846 7.39569 4.98931 6.95053C4.83016 6.50538 4.77226 6.03035 4.81984 5.56ZM12.6665 13.3333H3.33317C3.15636 13.3333 2.98679 13.4036 2.86177 13.5286C2.73674 13.6536 2.6665 13.8232 2.6665 14C2.6665 14.1768 2.73674 14.3464 2.86177 14.4714C2.98679 14.5964 3.15636 14.6667 3.33317 14.6667H12.6665C12.8433 14.6667 13.0129 14.5964 13.1379 14.4714C13.2629 14.3464 13.3332 14.1768 13.3332 14C13.3332 13.8232 13.2629 13.6536 13.1379 13.5286C13.0129 13.4036 12.8433 13.3333 12.6665 13.3333Z"
                                                fill="#DC3545" />
                                        </svg>
                                        <span class="font-light text-xs" id="jarak">-</span>
                                    </p>
                                    <p class="my-1 font-light text-xs flex col-span-1">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                            viewBox="0 0 16 16" fill="none">
                                            <path
                                                d="M7.33366 1.33334C6.01512 1.33334 4.72619 1.72434 3.62986 2.45688C2.53353 3.18942 1.67905 4.23061 1.17447 5.44879C0.669881 6.66696 0.537859 8.00741 0.795093 9.30061C1.05233 10.5938 1.68727 11.7817 2.61962 12.7141C3.55197 13.6464 4.73985 14.2813 6.03306 14.5386C7.32627 14.7958 8.66671 14.6638 9.88489 14.1592C11.1031 13.6546 12.1442 12.8001 12.8768 11.7038C13.6093 10.6075 14.0003 9.31855 14.0003 8.00001C14.0003 7.12453 13.8279 6.25762 13.4929 5.44879C13.1578 4.63995 12.6668 3.90502 12.0477 3.28596C11.4286 2.66691 10.6937 2.17584 9.88489 1.84081C9.07605 1.50578 8.20914 1.33334 7.33366 1.33334ZM7.33366 13.3333C6.27883 13.3333 5.24768 13.0205 4.37062 12.4345C3.49356 11.8485 2.80997 11.0155 2.4063 10.041C2.00264 9.06645 1.89702 7.99409 2.10281 6.95953C2.30859 5.92496 2.81655 4.97465 3.56243 4.22877C4.30831 3.48289 5.25862 2.97494 6.29318 2.76916C7.32775 2.56337 8.4001 2.66899 9.37464 3.07265C10.3492 3.47632 11.1821 4.15991 11.7682 5.03697C12.3542 5.91403 12.667 6.94518 12.667 8.00001C12.667 9.4145 12.1051 10.7711 11.1049 11.7712C10.1047 12.7714 8.74815 13.3333 7.33366 13.3333ZM7.33366 4.00001C7.15685 4.00001 6.98728 4.07025 6.86226 4.19527C6.73723 4.3203 6.667 4.48987 6.667 4.66668V7.61334L5.267 8.42001C5.13857 8.49279 5.03792 8.60613 4.98085 8.74226C4.92377 8.8784 4.9135 9.02963 4.95163 9.17223C4.98976 9.31484 5.07414 9.44075 5.19154 9.53024C5.30894 9.61972 5.45272 9.66771 5.60033 9.66668C5.71711 9.66748 5.83206 9.6376 5.93366 9.58001L7.667 8.58001L7.727 8.52001L7.83366 8.43334C7.85973 8.40034 7.88209 8.36457 7.90033 8.32668C7.92206 8.29089 7.93993 8.2529 7.95366 8.21334C7.9718 8.17096 7.98305 8.12595 7.987 8.08001L8.00033 8.00001V4.66668C8.00033 4.48987 7.93009 4.3203 7.80507 4.19527C7.68004 4.07025 7.51047 4.00001 7.33366 4.00001Z"
                                                fill="#DC3545" />
                                        </svg>
                                        <span class="font-light text-xs" id="estimasiWaktu">-</span>
                                    </p>
                                    <p class="my-1 font-light text-xs flex col-span-1">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                            viewBox="0 0 16 16" fill="none">
                                            <path
                                                d="M12.9601 8.66668C12.8134 8.66668 12.6601 8.62001 12.5134 8.58668C12.2164 8.52123 11.9245 8.43434 11.6401 8.32668C11.3308 8.21417 10.9908 8.22001 10.6856 8.34309C10.3804 8.46616 10.1315 8.69777 9.98673 8.99335L9.84007 9.29335C9.19074 8.93213 8.59406 8.4835 8.06673 7.96001C7.54325 7.43269 7.09462 6.83601 6.7334 6.18668L7.0134 6.00001C7.30898 5.85529 7.54059 5.60637 7.66366 5.30114C7.78674 4.99592 7.79258 4.65596 7.68007 4.34668C7.57422 4.06163 7.48736 3.76988 7.42007 3.47335C7.38673 3.32668 7.36007 3.17335 7.34007 3.02001C7.25911 2.55043 7.01315 2.12518 6.64648 1.82084C6.27981 1.5165 5.81653 1.35309 5.34007 1.36001H3.34007C3.05275 1.35732 2.76823 1.41656 2.50587 1.5337C2.24351 1.65085 2.00947 1.82314 1.81969 2.03887C1.6299 2.25459 1.48882 2.50868 1.40606 2.78382C1.32329 3.05897 1.30079 3.34872 1.34007 3.63335C1.69523 6.42627 2.97075 9.02127 4.96517 11.0084C6.95958 12.9956 9.55921 14.2617 12.3534 14.6067H12.6067C13.0983 14.6074 13.573 14.427 13.9401 14.1C14.151 13.9114 14.3195 13.6801 14.4344 13.4216C14.5493 13.163 14.608 12.883 14.6067 12.6V10.6C14.5986 10.1369 14.4299 9.69105 14.1296 9.33846C13.8293 8.98587 13.4159 8.74843 12.9601 8.66668ZM13.2934 12.6667C13.2933 12.7613 13.273 12.8549 13.2339 12.9411C13.1948 13.0273 13.1378 13.1042 13.0667 13.1667C12.9922 13.231 12.9051 13.279 12.811 13.3077C12.7169 13.3364 12.6178 13.3452 12.5201 13.3333C10.0233 13.0132 7.70423 11.871 5.92854 10.0869C4.15286 8.30274 3.02167 5.97824 2.7134 3.48001C2.70279 3.38236 2.71209 3.28357 2.74074 3.18961C2.76938 3.09565 2.81678 3.00847 2.88007 2.93335C2.94254 2.86223 3.01944 2.80524 3.10565 2.76616C3.19186 2.72708 3.28541 2.7068 3.38007 2.70668H5.38007C5.5351 2.70323 5.68648 2.75393 5.80816 2.85006C5.92984 2.94619 6.01421 3.08173 6.04673 3.23335C6.0734 3.41557 6.10673 3.59557 6.14673 3.77335C6.22375 4.12478 6.32624 4.47013 6.4534 4.80668L5.52007 5.24001C5.44027 5.27663 5.36848 5.32864 5.30884 5.39308C5.2492 5.45751 5.20287 5.53309 5.17251 5.61548C5.14216 5.69786 5.12838 5.78543 5.13197 5.87316C5.13555 5.96089 5.15643 6.04704 5.1934 6.12668C6.15287 8.18185 7.8049 9.83388 9.86007 10.7933C10.0224 10.86 10.2044 10.86 10.3667 10.7933C10.4499 10.7636 10.5263 10.7176 10.5915 10.6581C10.6567 10.5986 10.7095 10.5268 10.7467 10.4467L11.1601 9.51335C11.5047 9.6366 11.8565 9.73901 12.2134 9.82001C12.3912 9.86001 12.5712 9.89335 12.7534 9.92001C12.905 9.95254 13.0406 10.0369 13.1367 10.1586C13.2328 10.2803 13.2835 10.4317 13.2801 10.5867L13.2934 12.6667Z"
                                                fill="#DC3545" />
                                        </svg>
                                        &nbsp;+{{ $report->user->phonenumber }}
                                    </p>
                                </div>
                            </div>
                            <div class="flex px-4">
                                <a href="https://wa.me/{{ $report->user->phonenumber }}"
                                    class="rounded-lg bg-[#FE5D26] flex items-center p-2 shadow mr-1 px-4 border w-1/2"
                                    href="#" target="_blank">
                                    <svg class="fill-white" xmlns="http://www.w3.org/2000/svg" fill="none"
                                        width="24" height="24" viewBox="0 0 32 32" version="1.1">
                                        <title>whatsapp</title>
                                        <path
                                            d="M26.576 5.363c-2.69-2.69-6.406-4.354-10.511-4.354-8.209 0-14.865 6.655-14.865 14.865 0 2.732 0.737 5.291 2.022 7.491l-0.038-0.070-2.109 7.702 7.879-2.067c2.051 1.139 4.498 1.809 7.102 1.809h0.006c8.209-0.003 14.862-6.659 14.862-14.868 0-4.103-1.662-7.817-4.349-10.507l0 0zM16.062 28.228h-0.005c-0 0-0.001 0-0.001 0-2.319 0-4.489-0.64-6.342-1.753l0.056 0.031-0.451-0.267-4.675 1.227 1.247-4.559-0.294-0.467c-1.185-1.862-1.889-4.131-1.889-6.565 0-6.822 5.531-12.353 12.353-12.353s12.353 5.531 12.353 12.353c0 6.822-5.53 12.353-12.353 12.353h-0zM22.838 18.977c-0.371-0.186-2.197-1.083-2.537-1.208-0.341-0.124-0.589-0.185-0.837 0.187-0.246 0.371-0.958 1.207-1.175 1.455-0.216 0.249-0.434 0.279-0.805 0.094-1.15-0.466-2.138-1.087-2.997-1.852l0.010 0.009c-0.799-0.74-1.484-1.587-2.037-2.521l-0.028-0.052c-0.216-0.371-0.023-0.572 0.162-0.757 0.167-0.166 0.372-0.434 0.557-0.65 0.146-0.179 0.271-0.384 0.366-0.604l0.006-0.017c0.043-0.087 0.068-0.188 0.068-0.296 0-0.131-0.037-0.253-0.101-0.357l0.002 0.003c-0.094-0.186-0.836-2.014-1.145-2.758-0.302-0.724-0.609-0.625-0.836-0.637-0.216-0.010-0.464-0.012-0.712-0.012-0.395 0.010-0.746 0.188-0.988 0.463l-0.001 0.002c-0.802 0.761-1.3 1.834-1.3 3.023 0 0.026 0 0.053 0.001 0.079l-0-0.004c0.131 1.467 0.681 2.784 1.527 3.857l-0.012-0.015c1.604 2.379 3.742 4.282 6.251 5.564l0.094 0.043c0.548 0.248 1.25 0.513 1.968 0.74l0.149 0.041c0.442 0.14 0.951 0.221 1.479 0.221 0.303 0 0.601-0.027 0.889-0.078l-0.031 0.004c1.069-0.223 1.956-0.868 2.497-1.749l0.009-0.017c0.165-0.366 0.261-0.793 0.261-1.242 0-0.185-0.016-0.366-0.047-0.542l0.003 0.019c-0.092-0.155-0.34-0.247-0.712-0.434z" />
                                    </svg>
                                    <p class="font-normal text-xs text-white">&nbsp;&nbsp;Whatsapp</p>
                                </a>
                                <a href="{{ route('fireman.roomchat', $report->id) }}"
                                    class="rounded-lg bg-[#FE5D26] flex items-center shadow p-2 ml-1 px-4 border w-1/2">
                                    <svg class="stroke-white" viewBox="0 0 24 24" width="24" height="24"
                                        stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"
                                        class="css-i6dzq1">
                                        <path
                                            d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                                        </path>
                                    </svg>
                                    <p class="font-normal text-xs text-white">&nbsp;&nbsp;Kirim Pesan</p>
                                </a>
                            </div>
                        </div>
                    </div>
                    <!--Button trigger small modal-->
                    {{-- <button type="button"
                        class="inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]"
                        data-te-toggle="modal" data-te-target="#exampleModalSm" data-te-ripple-init
                        data-te-ripple-color="light">
                        Small modal
                    </button> --}}
                    <!--Small modal-->
                    <div class="w-full flex mb-4">
                        @if (
                            $report->report_status != 'ditolak' &&
                                $report->report_status != 'selesai' &&
                                $report->report_status != 'dibatalkan')
                            @if ($report->report_status == 'diproses')
                                <button data-te-toggle="modal" data-te-target="#exampleModalSm" data-te-ripple-init
                                    data-te-ripple-color="light"
                                    class="p-2 w-1/2 mx-2 rounded-lg text-xs font-bold py-3 bg-red-100 border border-red-500 text-red-700">Batalkan
                                    Laporan</button>
                                <button onclick="actionReport('selesai')"
                                    class="p-2 w-1/2 mx-2 rounded-lg text-xs font-bold py-3 bg-green-100 border border-green-500 text-green-700">Selesikan Laporan</button>
                            @else 
                            <button data-te-toggle="modal" data-te-target="#exampleModalSm" data-te-ripple-init
                                data-te-ripple-color="light"
                                class="p-2 w-1/2 mx-2 rounded-lg text-xs font-bold py-3 bg-red-100 border border-red-500 text-red-700">Tolak
                                Laporan</button>
                            <button onclick="actionReport('diproses')"
                                class="p-2 w-1/2 mx-2 rounded-lg text-xs font-bold py-3 bg-green-100 border border-green-500 text-green-700">Terima
                                Laporan</button>

                            @endif
                        @endif
                    </div>
                    <div class="mt-2 mb-4" id="detailInfo">
                        <div class="border-t border-t-gray-300 border-slate-300 px-2 px-4">
                            <div class="flex flex-col justify-between">
                                <p class="text-xs font-light mt-4">Instruksi Penunjuk Jalan</p>
                                <div id="direction" class="flex flex-col">
                                    <div class="bg-white rounded-lg overflow-hidden">
                                        <div class="my-4 overflow-y-scroll">
                                            <ul class="space-y-2 max-h-[200px]" id="directons">
                                                {{-- <li>
                                              <div class="flex">
                                                <div class="flex-shrink-0">
                                                  <div class="text-xs flex items-center justify-center h-6 w-6 rounded-full bg-[#FE5D26] text-white">
                                                    1
                                                  </div>
                                                </div>
                                                <div class="ml-4">
                                                  <p class="text-sm font-semibold text-gray-500">Belok ke arah barat daya di Jalan Utama</p>
                                                  <div class="flex">
                                                      <p class="px-2 py-1 bg-blue-500 rounded-md text-white font-bold text-xs mr-2">0,5 km</p>
                                                      <p class="px-2 py-1 bg-green-500 rounded-md text-white font-bold text-xs">5 Menit</p>
                                                  </div>
                                                </div>
                                              </div>
                                            </li> --}}
                                                {{-- <li>
                                              <div class="flex">
                                                <div class="flex-shrink-0">
                                                  <div class="text-xs flex items-center justify-center h-6 w-6 rounded-full bg-[#FE5D26] text-white">
                                                    2
                                                  </div>
                                                </div>
                                                <div class="ml-4">
                                                  <p class="text-sm font-semibold text-gray-500">Lanjutkan sejauh 1,2 km di Jalan Raya</p>
                                                  <div class="flex">
                                                      <p class="px-2 py-1 bg-blue-500 rounded-md text-white font-bold text-xs mr-2">1,2 km</p>
                                                      <p class="px-2 py-1 bg-green-500 rounded-md text-white font-bold text-xs ">5 Menit</p>
                                                  </div>
                                                </div>
                                              </div>
                                            </li>
                                            <li>
                                              <div class="flex">
                                                <div class="flex-shrink-0">
                                                  <div class="text-xs flex items-center justify-center h-6 w-6 rounded-full bg-[#FE5D26] text-white">
                                                    3
                                                  </div>
                                                </div>
                                                <div class="ml-4">
                                                  <p class="text-sm font-semibold text-gray-500">Ambil keluaran ke kanan menuju Jalan Buntu</p>
                                                  <div class="flex">
                                                      <p class="px-2 py-1 bg-blue-500 rounded-md text-white font-bold text-xs text-gray-500 mr-2">0,3 km</p>
                                                      <p class="px-2 py-1 bg-green-500 rounded-md text-white font-bold text-xs text-gray-500">5 Menit</p>
                                                  </div>
                                                </div>
                                              </div>
                                            </li> --}}
                                                <!-- Tambahkan instruksi lainnya sesuai kebutuhan -->
                                            </ul>
                                        </div>
                                    </div>
                                    {{-- <div class="font-normal text-xs flex justify-between">
                                        <div>
                                            1. Belok Kanan ke
                                        </div>
                                    </div> --}}
                                </div>
                                {{-- <p class="font-bold text-xs text-red-500">Level {{$report->type_report}}</p> --}}
                            </div>
                        </div>
                        <div
                            class="border-t border-t-gray-300 border-slate-300 py-4 p-2 px-4 border-l-4 border-l-[#02BBDD]">
                            <div class="flex justify-between items-center">
                                <p class="text-xs font-light">Status</p>
                                <p
                                    class="text-xs font-normal bg-{{ statusColor($report->report_status) }} p-2 px-4 rounded-lg text-white">
                                    {{ $report->report_status }}</p>
                            </div>
                        </div>
                        <div class="border-t border-t-gray-300 border-slate-300 py-4 p-2 px-4">
                            <div class="px-2 flex justify-between">
                                <p class="text-xs font-light">Level</p>
                                <p class="font-bold text-xs text-red-500">Level {{ $report->type_report }}</p>
                            </div>
                        </div>
                        <div class="border-t border-t-gray-300 border-slate-300 py-4 p-2 px-4">
                            <div class="px-2 flex justify-between">
                                <p class="text-xs font-light">Tanggal Laporan</p>
                                <p class="font-bold text-xs font-normal">{{ date('d/m/y | h:i') }}</p>
                            </div>
                        </div>
                        <div class="border-t border-t-gray-300 border-slate-300 py-4 p-2 px-4">
                            <div class="px-2 flex justify-between">
                                <div class="px-2 flex flex-col">
                                    <p class="text-xs font-light">Foto</p>
                                    <div class="overflow-x-scroll mt-2">
                                        <div class="flex flex max-w-[400px]">
                                            @foreach ($report->documents as $doc)
                                                <a href="{{ url('/') }}/{{ $doc->path_document }}">
                                                    <div
                                                        class="preview mx-1 flex justify-center border h-[60px] w-[65px] rounded-xl">
                                                        <img class="w-full rounded-xl "
                                                            src="{{ url('/') . '/' . $doc->path_document }}"
                                                            id="preview-selected-image" />
                                                    </div>
                                                </a>
                                            @endforeach
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="border-t border-t-gray-300 border-slate-300 py-4 p-2 px-4">
                            <div class="px-2 flex flex-col">
                                <p class="text-xs font-light">Deskripsi</p>
                                <p class="font-bold mt-2 text-xs font-light">{{ $report->description }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="h-screen relative">
            {{-- <p class="mt-4 font-bold relative">Titik Lokasi Unit Kebakaran</p>
            <div class="w-full flex justify-end">
                <small id="latlong" class="font-bold text-[10px]" style="display: none"></small>
            </div> --}}
            <div id="map" class="h-full border-2 border-slate-500">
            </div>
        </div>
    </div>
@endsection

@section('dashboard_js')
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
        integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>

    <script>
        const showDetail = (status) => {
            if (!status) {
                $("#btnClose").slideUp(500);
                $("#btnShow").slideDown(500);
                $("#detailInfo").slideDown(500);
            } else {
                $("#btnClose").slideDown(500);
                $("#btnShow").slideUp(500);
                $("#detailInfo").slideUp(500);
            }
        }
        let currentPoint = [parseFloat('{{ $report->fireman->latitude }}'), parseFloat(
            '{{ $report->fireman->longitude }}')];
        let map = L.map('map').setView(currentPoint, 13);
        googleTerrain = L.tileLayer('http://{s}.google.com/vt/lyrs=p&x={x}&y={y}&z={z}', {
            maxZoom: 30,
            subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
        }).addTo(map);
        let icon = L.divIcon({
            class: '',
            html: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="22" viewBox="0 0 32 30" fill="none">
  <path d="M18.8555 12.1063V12.645C18.8555 12.8302 18.704 12.9816 18.5188 12.9816C18.3336 12.9816 18.1821 12.8302 18.1821 12.645V12.1063C18.1821 11.9212 18.3336 11.7697 18.5188 11.7697C18.704 11.7697 18.8555 11.9212 18.8555 12.1063ZM25.0107 26.0103V30.0277C25.0107 30.2129 24.8592 30.3643 24.674 30.3643H7.32497C7.13981 30.3643 6.98831 30.2129 6.98831 30.0277V26.0103C6.98831 24.6412 7.71213 23.4348 8.91848 22.784L11.1572 21.5832C9.72084 21.3027 8.63232 20.0346 8.63232 18.5196C8.63232 17.9081 8.81187 17.3133 9.14853 16.8083C8.73332 16.567 8.40227 16.2079 8.18344 15.7927C7.06126 15.0409 6.39355 13.7952 6.39355 12.4486C6.39355 10.4679 7.82996 8.81272 9.72084 8.47606V8.25724C9.72084 7.01722 10.1529 5.79964 10.9328 4.83456C11.6342 3.96487 12.5936 3.32522 13.6541 3.01101C13.6036 2.6463 13.699 2.30403 13.9122 2.04031C14.1142 1.79343 14.4172 1.64194 14.6977 1.64194H17.2956C17.5762 1.64194 17.8735 1.79343 18.0811 2.04031C18.3 2.29842 18.3897 2.64068 18.3392 3.01101C19.3997 3.32522 20.3592 3.96487 21.0606 4.83456C21.8405 5.80526 22.2725 7.02283 22.2725 8.25724V8.47606C24.1578 8.81272 25.5998 10.4623 25.5998 12.4486C25.5998 13.8008 24.9321 15.0465 23.8099 15.7983C23.5911 16.2136 23.26 16.5727 22.8504 16.8139C23.1871 17.3189 23.3666 17.9137 23.3666 18.5253C23.3666 20.0402 22.2781 21.3083 20.8417 21.5888L23.0749 22.7896C24.2868 23.4292 25.0107 24.6412 25.0107 26.0103ZM22.497 10.7429C22.9963 11.0515 23.333 11.6014 23.333 12.2298C23.333 12.4093 23.3049 12.5833 23.2544 12.746C23.7875 13.2229 24.1017 13.9075 24.1017 14.6257C24.1017 14.6313 24.1017 14.6425 24.1017 14.6481C24.6347 14.0421 24.9321 13.2622 24.9321 12.4374C24.9321 10.9056 23.8997 9.60947 22.497 9.20549V10.7429ZM21.588 11.1637H21.1335V13.3071H21.588C22.1771 13.3071 22.6597 12.8245 22.6597 12.2354C22.6597 11.6406 22.1771 11.1637 21.588 11.1637ZM18.5076 6.27657L17.8174 8.40873H21.5711C21.5824 8.40873 21.5936 8.40873 21.6048 8.40873V8.25163C21.6048 6.15875 20.2021 4.2903 18.2214 3.6731L17.8792 5.53593L18.3841 5.90064C18.502 5.98481 18.5525 6.1363 18.5076 6.27657ZM15.9041 23.6761C15.9265 23.7154 15.9546 23.7322 15.9995 23.7322C16.0444 23.7322 16.078 23.7154 16.1005 23.6761L17.9128 20.4779V18.9292C17.3237 19.1705 16.6784 19.2996 15.9995 19.2996C15.3206 19.2996 14.6809 19.1705 14.0862 18.9292V20.4779L15.9041 23.6761ZM13.6204 21.0221L12.0774 21.8525C12.2458 22.38 12.3804 22.8345 12.487 23.2104C12.6778 23.8669 12.8574 24.4841 12.9864 24.5795C13.1435 24.5739 13.6485 24.1755 14.1815 23.7603C14.3835 23.5975 14.6136 23.418 14.8661 23.2216L13.6204 21.0221ZM17.1329 23.216C17.391 23.4124 17.6154 23.5919 17.8174 23.7547C18.3505 24.1755 18.8555 24.5739 19.0126 24.5739C19.1416 24.4785 19.3212 23.8613 19.5119 23.2104C19.6242 22.8345 19.7532 22.38 19.9215 21.8469L18.3785 21.0165L17.1329 23.216ZM20.4602 14.1656V9.07643H11.5388V14.1656C11.5388 16.6232 13.5363 18.6263 15.9995 18.6263C18.4571 18.6263 20.4602 16.6232 20.4602 14.1656ZM14.204 6.29902L14.8885 8.40312H17.1105L17.795 6.29902L15.9995 4.99167L14.204 6.29902ZM9.50202 10.7429V9.2111C8.09928 9.61508 7.06687 10.9112 7.06687 12.443C7.06687 13.2678 7.36986 14.0477 7.89729 14.6481C7.89729 14.6425 7.89729 14.6313 7.89729 14.6257C7.89729 13.9075 8.2115 13.2229 8.74454 12.746C8.69404 12.5833 8.66599 12.4093 8.66599 12.2298C8.66599 11.6014 9.00264 11.0515 9.50202 10.7429ZM10.8655 11.1637H10.411C9.82184 11.1637 9.3393 11.6462 9.3393 12.2354C9.3393 12.8245 9.82184 13.3071 10.411 13.3071H10.8655V11.1637ZM14.1815 8.40873L13.4914 6.27657C13.4465 6.1363 13.497 5.98481 13.6148 5.90064L14.1198 5.53032L13.7776 3.66749C11.7969 4.28469 10.3942 6.15875 10.3942 8.24602V8.40312C10.4054 8.40312 10.4166 8.40312 10.4278 8.40312H14.1815V8.40873ZM24.3373 25.971L22.424 26.4367C22.396 26.4423 22.3735 26.4479 22.3455 26.4479H9.65351C9.62546 26.4479 9.5974 26.4423 9.57496 26.4367L7.66163 25.971C7.66163 25.9822 7.66163 25.999 7.66163 26.0103V27.8899L9.31685 28.249V27.3288C9.31685 27.1437 9.46835 26.9922 9.65351 26.9922C9.83867 26.9922 9.99017 27.1437 9.99017 27.3288V28.3276H15.6628V27.3288C15.6628 27.1437 15.8143 26.9922 15.9995 26.9922C16.1846 26.9922 16.3361 27.1437 16.3361 27.3288V28.3276H22.0088V27.3288C22.0088 27.1437 22.1603 26.9922 22.3455 26.9922C22.5306 26.9922 22.6821 27.1437 22.6821 27.3288V28.249L24.3373 27.8899V26.0103C24.3373 25.999 24.3373 25.9822 24.3373 25.971ZM13.4802 11.7697C13.295 11.7697 13.1435 11.9212 13.1435 12.1063V12.645C13.1435 12.8302 13.295 12.9816 13.4802 12.9816C13.6653 12.9816 13.8168 12.8302 13.8168 12.645V12.1063C13.8168 11.9212 13.6653 11.7697 13.4802 11.7697ZM17.5874 14.6088H14.4172C14.232 14.6088 14.0805 14.7603 14.0805 14.9455C14.0805 16.0059 14.9446 16.87 16.0051 16.87C17.0656 16.87 17.9296 16.0059 17.9296 14.9455C17.9184 14.7603 17.7725 14.6088 17.5874 14.6088Z" fill="#1D1D1D"/>
</svg>`,

            iconSize: [10, 10], // size of the icon
            shadowSize: [50, 64], // size of the shadow
            iconAnchor: [8, 15], // point of the icon which will correspond to marker's location
            shadowAnchor: [4, 62], // the same for the shadow
            popupAnchor: [0, -20] // point from which the popup should open relative to the iconAnchor
        });
        let circle = L.circle(currentPoint, {
            color: '#FFDFD4',
            fillColor: '#FFBEA8',
            fillOpacity: 1,
            radius: 400
        }).addTo(map);
        let marker = L.marker(currentPoint, {
            icon
        }).addTo(map);

        let popupContent = `<b>{{ $report->fireman->name }}</b><br>(Telp: {{ $report->fireman->phonenumber }})<br>
                         {{ $report->fireman->address }}<br>
                        `;
        marker.bindPopup(popupContent).openPopup();
        const stringToLatLng = (string) => {
            let lat = parseFloat(string.split(',')[0]);
            let lng = parseFloat(string.split(',')[1]);
            let uuid = string.split(',')[2];

            return {
                lat,
                lng,
                uuid
            };
        }

        let iconTarget = L.divIcon({
            html: `<svg class="stroke-white" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16" fill="none">
                    <path d="M5.6452 5.59636L5.6437 5.59758L5.64227 5.59896L5.6452 5.59636ZM12.2813 5.472C12.2349 5.4273 12.1834 5.38819 12.1279 5.35546C12.0494 5.30924 11.9622 5.27961 11.8718 5.26842C11.7813 5.25723 11.6895 5.26471 11.6021 5.2904C11.5147 5.31609 11.4334 5.35944 11.3634 5.41778C11.2934 5.47611 11.2361 5.54819 11.195 5.62956C10.9654 6.08202 10.6486 6.48468 10.263 6.81445C10.322 6.48218 10.3517 6.14539 10.3519 5.80793C10.3531 4.78134 10.0823 3.77274 9.56697 2.88484C9.05166 1.99695 8.31027 1.26146 7.41827 0.753268C7.32001 0.697566 7.20921 0.667741 7.09627 0.666592C6.98332 0.665442 6.87193 0.693006 6.77256 0.746696C6.67318 0.800386 6.58908 0.878443 6.52813 0.973542C6.46719 1.06864 6.4314 1.17766 6.42413 1.29038C6.38683 1.9225 6.22158 2.54046 5.93839 3.10683C5.65521 3.67319 5.25999 4.17617 4.77669 4.58529L4.62304 4.71029C4.11765 5.05035 3.6703 5.46956 3.29817 5.95182C2.71972 6.68056 2.319 7.53405 2.12781 8.44461C1.93662 9.35517 1.96021 10.2977 2.1967 11.1976C2.4332 12.0975 2.8761 12.9298 3.49029 13.6287C4.10447 14.3276 4.87304 14.8738 5.73505 15.224C5.83626 15.2653 5.94609 15.2811 6.05486 15.27C6.16363 15.2589 6.26799 15.2212 6.35874 15.1602C6.44948 15.0992 6.52382 15.0168 6.5752 14.9203C6.62658 14.8238 6.65342 14.7161 6.65335 14.6068C6.65288 14.5361 6.64168 14.4658 6.62015 14.3984C6.471 13.8378 6.42805 13.2542 6.49352 12.6777C7.12435 13.8675 8.13695 14.8107 9.36852 15.3555C9.51885 15.4227 9.68879 15.4318 9.84541 15.3809C10.8185 15.0668 11.695 14.5092 12.3918 13.7609C13.0887 13.0126 13.5826 12.0986 13.8267 11.1057C14.0707 10.1128 14.0569 9.07399 13.7864 8.08795C13.5159 7.10191 12.9978 6.2014 12.2813 5.472ZM9.67808 14.026C9.09696 13.7315 8.58433 13.318 8.17352 12.8124C7.76271 12.3067 7.46292 11.7203 7.29364 11.0911C7.24194 10.8793 7.20195 10.6648 7.17385 10.4486C7.15481 10.3109 7.09321 10.1826 6.99766 10.0816C6.90212 9.98062 6.77741 9.91203 6.64097 9.88542C6.59894 9.87713 6.5562 9.87299 6.51335 9.87305C6.39618 9.87301 6.28107 9.90386 6.17963 9.9625C6.07818 10.0211 5.994 10.1055 5.93555 10.207C5.3824 11.1611 5.10422 12.2497 5.13184 13.3522C4.64533 12.974 4.23874 12.5029 3.93563 11.9664C3.63251 11.4298 3.4389 10.8384 3.36602 10.2265C3.29314 9.61456 3.34244 8.99425 3.51106 8.40151C3.67967 7.80878 3.96426 7.2554 4.34831 6.77346C4.63992 6.39468 4.99171 6.06632 5.38965 5.80146C5.40688 5.79033 5.4234 5.77816 5.43913 5.76499C5.43913 5.76499 5.63692 5.60134 5.64368 5.5976C6.59348 4.79424 7.26902 3.7146 7.57617 2.50914C8.30255 3.18062 8.7869 4.07315 8.95401 5.04814C9.12112 6.02313 8.96164 7.02601 8.50033 7.90106C8.43938 8.01783 8.41438 8.15003 8.42848 8.28099C8.44257 8.41195 8.49514 8.5358 8.57954 8.63692C8.66395 8.73804 8.77641 8.8119 8.90274 8.84918C9.02907 8.88646 9.16361 8.88549 9.28939 8.8464C10.3106 8.52629 11.2092 7.90101 11.8643 7.05473C12.258 7.63626 12.5154 8.29914 12.6173 8.99397C12.7192 9.6888 12.663 10.3977 12.4528 11.0678C12.2427 11.7378 11.884 12.3519 11.4036 12.8641C10.9232 13.3763 10.3333 13.7735 9.67806 14.0261L9.67808 14.026Z" fill="white"/>
                    </svg>`,
            iconSize: [5, 5], // size of the icon
            shadowSize: [50, 64], // size of the shadow
            iconAnchor: [10, 12], // point of the icon which will correspond to marker's location
            shadowAnchor: [4, 62], // the same for the shadow
            popupAnchor: [0, -20] // point from which the popup should open relative to the iconAnchor
        });
        let targetPoint = [parseFloat('{{ $report->latitude }}'), parseFloat('{{ $report->longitude }}')];
        let circleTarget = L.circle(targetPoint, {
            color: '#E35D6A',
            fillColor: '#DC3545',
            fillOpacity: 1,
            radius: 400
        }).addTo(map);
        let markerTarget = L.marker(targetPoint, {
            icon: iconTarget
        }).addTo(map);
        markerTarget.setOpacity(0);
        let routes = L.Routing.control({
            waypoints: [
                L.latLng(0, 0),
                L.latLng(0, 0)
            ],
            createMarker: function() {},
        }).addTo(map);
        const createRoute = (lat, lng, messsage = 'Lokasi Kebakaran') => {
            markerTarget.setLatLng([lat, lng]);
            circleTarget.setLatLng([lat, lng]);
            markerTarget.setOpacity(1);
            markerTarget.bindPopup(
                `<span class="p-2 rounded-lg text-xs font-semibold bg-red-100 border border-red-500 text-red-500">${messsage}</span>`
            ).openPopup();
            let latLngTarget = L.latLng(lat, lng);
            let currentDamkarLatLng = L.latLng(marker.getLatLng().lat, marker.getLatLng().lng);
            let waypoint = [currentDamkarLatLng, latLngTarget];
            routes.setWaypoints(waypoint);
            // Inisialisasi peta Leaflet dan routing machine

            // Tambahkan event listener untuk mendapatkan data rute saat rute ditemukan
            routes.on('routesfound', function(e) {
                var routeStep = e.routes[0];
                console.log(routeStep);
                let jarak = routeStep.summary.totalDistance;
                let estimasiWaktu = routeStep.summary.totalTime;
                $("#jarak").html(`&nbsp;${Math.round(jarak/1000)} KM`);
                $("#estimasiWaktu").html(`&nbsp;${Math.round(estimasiWaktu/60)} Menit`);
                routeStep.instructions.forEach((val, index) => {
                    let time = (val.time / 60);
                    let distance = (val.distance / 1000);
                    let text;
                    switch (val.modifier) {
                        case "Straight":
                            text = `Lurus terus ke jalan <span class=''>${val.road}</span>`;
                            break;
                        case "Right":
                            text = `Belok kanan ke jalan <span class=''>${val.road}</span>`;
                            break;
                        case "Left":
                            text = `Belok kiri ke jalan <span class=''>${val.road}</span>`;
                            break;
                        default:
                            text = `Lurus terus ke jalan <span class=''>${val.road}</span>`;
                            break;
                    }
                    let template = `<li>
                                        <div class="flex">
                                        <div class="flex-shrink-0">
                                            <div class="text-xs flex items-center justify-center h-6 w-6 rounded-full bg-[#FE5D26] text-white">
                                            ${index+1}
                                            </div>
                                        </div>
                                        <div class="ml-4">
                                            <p class="text-sm font-semibold text-gray-500">${text}</p>
                                            <div class="flex mt-1">
                                                <p class="px-2 py-1 bg-blue-500 rounded-md text-white font-bold text-xs mr-2">${(distance) < 1 ? Math.floor(val.distance)+" Meter" : Math.floor(distance)+" KM"}</p>
                                                <p class="px-2 py-1 bg-green-500 rounded-md text-white font-bold text-xs">${time < 1 ? Math.floor(val.time)+" Detik" : Math.floor(time)+" Menit"}</p>
                                            </div>
                                        </div>
                                        </div>
                                    </li>`;
                    $("#directons").append(template);
                });
            });

        }
        createRoute(targetPoint[0], targetPoint[1]);

        // const sendMessage = () => {
        //     let message = $("#inputChat").val();
        //     $.ajax(`{{ route('fireman.send.message', $report->id) }}`, {
        //         type: 'POST',
        //         data: {
        //             message
        //         },
        //         success: function(data) {
        //             console.log(data);
        //             $("#inputChat").val("");
        //             getMessages();
        //         },
        //         error: function(jqXhr, textStatus, errorMessage) {
        //             console.log(errorMessage);
        //         }
        //     });
        // }

        // const getMessages = async () => {
        //     let errorBanner =
        //         `<p id="errorBanner" style="display:none" class="text-center rounded text-xs bg-slate-500 text-white p-1">pesan kosong</p>`
        //     await fetch(`{{ route('fireman.get.message', $report->id) }}`)
        //         .then(res => res.json())
        //         .then(json => {
        //             let data = json.data;
        //             console.log(data);
        //             let messages = "";
        //             if (data.length < 1) {
        //                 $("#kolomChat").html(errorBanner);
        //                 $("#errorBanner").slideDown(0);
        //             } else {
        //                 data.forEach(val => {
        //                     messages += templateMessage(val);
        //                 })
        //                 $("#kolomChat").html(messages);
        //                 const element = document.getElementById("messageBox")
        //                 element.scrollTop = element.scrollHeight;
        //             }
        //         })
        // }
        // const templateMessage = (data) => {
        //     if(data.user_id == '{{ Auth::user()->id }}') {
        //         return `<div class="">
    //                     <div class="mx-4 mb-2 p-2 rounded border-2 border-gray-200 shadow-lg">
    //                         <div class="py-1 flex mx-1 justify-end items-center">
    //                             <p class="font-bold text-xs text-yellow-900 mx-2 font-bold">{{ $report->fireman->name }}</p>
    //                             <img src="{{ asset('icons/fireman.png') }}" class=" w-[30px]" alt="">
    //                         </div>
    //                         <div class="mx-2 text-right font-bold">
    //                             <p class="text-xs font-bold">${data.message}</p>
    //                         </div>
    //                     </div>
    //                 </div>`
        //     } else {
        //         return `<div class="">
    //                     <div class="mx-4 mb-2 p-2 rounded border-2 border-gray-200 shadow-lg">
    //                         <div class="py-1 flex mx-1 justify-start items-center">
    //                             <img src="{{ url('/') }}/icons/${data.user.gender == 'pria' ? 'male' : 'female'}.png" class=" w-[30px]" alt="">
    //                             <p class="font-bold text-xs text-yellow-900 font-bold">${data.user.name}</p>
    //                         </div>
    //                         <div class="mx-2 text-left font-bold">
    //                             <p class="text-xs font-bold">${data.message}</p>
    //                         </div>
    //                     </div>
    //                 </div>`
        //     }
        // }

        // getMessages();
        // @if ($report->report_status == 'pending' || $report->report_status == 'diproses')
        // const getMessageInterval = (time) => {
        //         setInterval(() => {
        //             getMessages();
        //         }, time);
        //     }
        //     getMessageInterval(3000);
        // @endif

        const actionReport = (status) => {
            let words = ''
            if (status == "ditolak") {
                words = "menolak"
            } else if (status == "diproses") {
                words = "menerima"
            } else if (status == "dibatalkan") {
                words = "membatalkan"
            }
             else {
                words = "menyelesaikan"
            }
            // let confirmation = confirm(`Apakah Anda ingin ${words} laporan ini? `);
            // if (confirmation) {
            // }
            $.ajax(`{{ route('fireman.update.report', [$report->id, '/']) }}/${status}`, {
                type: 'PUT',
                data: {},
                success: function(data) {
                    $('#exampleModalSm').hide(500);
                    $.Toast("Pesan", `Berhasil ${words} laporan`,
                        "success");
                    setTimeout(() => {
                        location.reload();
                    }, 2000);
                },
                error: function(jqXhr, textStatus, errorMessage) {
                    console.log(errorMessage);
                }
            });
        }
    </script>
@endsection
